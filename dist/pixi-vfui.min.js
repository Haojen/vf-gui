var pixivfui=function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=25)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(26);e.ClickEvent=s.ClickEvent;const n=i(27);e.DragDropController=n;const o=i(15);e.DragEvent=o.DragEvent;const r=i(28);e.InputController=r;const h=i(16);e.MouseScrollEvent=h.MouseScrollEvent;const a=i(6);e.InteractionEvent=a.InteractionEvent,e.TouchMouseEvent=a.TouchMouseEvent;const l=i(29);e.ComponentEvent=l;const u=i(30);e.GroupController=u},function(t,e,i){"use strict";function s(t){const e=t.toString(16);return 4==e.length?"00"+e:1==e.length?"0"+e:e}function n(t,e,i){return 65536*t+256*e+i}function o(t){return{r:Math.floor(t/65536),g:Math.floor(t/256)%256,b:t%256}}Object.defineProperty(e,"__esModule",{value:!0}),e.log=function(t,...e){console.log(t,...e)},e.setSourcePath=function(t){e._getSourcePath=t},e.getTexture=function(t){return e._getSourcePath&&(t=e._getSourcePath(t)),t instanceof PIXI.Texture?t:PIXI.Texture.from(t)},e.getSound=function(t){return e._getSourcePath&&(t=e._getSourcePath(t)),t instanceof PIXI.sound.Sound?t:PIXI.sound.Sound.from(t)},e.setRectangle=function(t,e,i,s,n){t.x=e,t.y=i,t.width=s,t.height=n},e.now=function(){if(void 0!==performance&&void 0!==performance.now)return performance.now.bind(performance)();{const t=performance&&performance.timing&&performance.timing.navigationStart?performance.timing.navigationStart:Date.now();return Date.now()-t}},e.deepCopy=function t(e){if(void 0===e||"object"!=typeof e)return e;if(Array.isArray(e))return[].concat(e);if("object"==typeof e){const i={};for(const s in e)i[s]=t(e[s]);return i}return e},e.hexToInt=function(t,e){if("number"==typeof t)return t;const i=parseInt(t.replace("#","0x"));return isNaN(i)?e:i},e.hexToRgba=function(t,e){const i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return!!i&&"rgba("+parseInt(i[1],16)+","+parseInt(i[2],16)+","+parseInt(i[3],16)+","+e+")"},e.componentToHex=s,e.rgbToHex=function(t,e,i){return"#"+s(t)+s(e)+s(i)},e.rgbToNumber=n,e.rgbStrToNumber=function(t){const e=t.substring(4,t.length-1).split(",");return n(parseInt(e[0]),parseInt(e[1]),parseInt(e[2]))},e.numberToRgb=o,e.hexToRgb=function(t){if(void 0===t&&(t=16777215),"number"==typeof t)return o(t);t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,i,s){return e+e+i+i+s+s}));const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:{r:255,g:255,b:255}},e.Lerp=function(t,e,i){return i>1?i=1:i<0&&(i=0),t+(e-t)*i},e.Round=function(t,e){const i=Math.pow(10,e);return Math.round(t*i)/i},e.uid=function(){return PIXI.utils.uid().toString()},e.getQueryVariable=function(t){const e=new URLSearchParams(location.search);if(e.has(t))return e.get(t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(0),n=i(1),o=i(33),r=i(13),h=i(3);class a extends r.Core{constructor(){super(),this.name="",this.isRelease=!1,this.delayDrawList=new Map,this.delayRenderedComplete=!1,this._x=0,this._y=0,this._scaleX=1,this._scaleY=1,this._skewX=0,this._skewY=0,this._pivotX=0,this._pivotY=0,this._rotation=0,this._width=0,this._height=0,this._alpha=1,this._visible=!0,this.enabled=!0,this.pixelPerfect=!0,this.attach={},this.dragInitialized=!1,this.dropInitialized=!1,this.dragging=!1,this._draggable=!1,this.dragRestricted=!1,this.dragThreshold=0,this._droppable=!1,this.uuid=n.uid(),this.container.name=this.constructor.name,this.__styleObject=new o.CSSStyle,this.__styleObject.parent=this,this._style=new Proxy(this.__styleObject,h.updateStyleProxyHandler),this.container.isEmitRender=!0,this.container.on("renderChange",this.onRenderer,this)}get groupName(){return this._groupName}set groupName(t){void 0===t&&s.GroupController.unRegistrerGroup(this),this._groupName!=t&&(this._groupName=t,s.GroupController.registrerGroup(this))}get blendMode(){return this._blendMode}set blendMode(t){this._blendMode=t,h.addDrawList("blendMode",this)}get x(){return this._x}set x(t){this._x=t,this.__styleObject.left=t,h.addDrawList("transform",this)}get y(){return this._y}set y(t){this._y=t,this.__styleObject.top=t,h.addDrawList("transform",this)}get scaleX(){return this._scaleX}set scaleX(t){this._scaleX=t,this.__styleObject.scaleX=t,h.addDrawList("transform",this)}get scaleY(){return this._scaleY}set scaleY(t){this._scaleY=t,this.__styleObject.scaleY=t,h.addDrawList("transform",this)}get skewX(){return this._skewX}set skewX(t){this._skewX=t,this.__styleObject.skewX=t,h.addDrawList("transform",this)}get skewY(){return this._skewY}set skewY(t){this._skewY=t,this.__styleObject.skewY=t,h.addDrawList("transform",this)}get pivotX(){return this._pivotX}set pivotX(t){this._pivotX=t,this.__styleObject.pivotX=t,h.addDrawList("transform",this)}get pivotY(){return this._pivotY}set pivotY(t){this._pivotY=t,this.__styleObject.pivotY=t,h.addDrawList("transform",this)}get rotation(){return this._rotation}set rotation(t){this._rotation=t,this.__styleObject.rotation=t,h.addDrawList("transform",this)}get width(){return this._width}set width(t){this._width=t,this.__styleObject.width=t,this.update(this._style)}get height(){return this._height}set height(t){this._height=t,this.__styleObject.height=t,this.update(this._style)}get tint(){return this._tint}set tint(t){this._tint=t,h.addDrawList("tint",this)}get alpha(){return this._alpha}set alpha(t){this._alpha=t,this.__styleObject.alpha=t,h.addDrawList("alpha",this)}get visible(){return this._visible}set visible(t){this._visible=t,this.__styleObject.visible=t,h.addDrawList("visible",this)}get style(){return this._style}set draggable(t){this._draggable=t,this.initialized&&(t?this.initDraggable():this.clearDraggable())}get draggable(){return this._draggable}set droppable(t){this._droppable=!0,this.initialized&&(t?this.initDroppable():this.clearDroppable())}get droppable(){return this._droppable}updatesettings(t,e){if(!this.initialized){if(null==this.parent)return;this.parent.initialized&&this.initialize()}e&&this.updateParent(),this.onRenderer(),t&&this.updateChildren()}onRenderer(t){const{_style:e}=this;this.parent&&(this.dragging&&!this.dragRestricted&&this._dragPosition?this.container.setTransform(this._dragPosition.x,this._dragPosition.y):(h.updateDrawList(this),this.update(e,t)))}update(t,e){}release(){this.isRelease=!0;const{container:t,mask:e,background:i}=this;t.off("renderChange",this.onRenderer,this),t.mask=null,e&&(e instanceof a?e.release():e.parent&&e.parent.removeChild(e).destroy(),this.mask=void 0),i&&i.parent&&(i.parent.removeChild(i).destroy(),this.background=void 0),this.parent&&this.parent.removeChild(this),this._style.eventEmitter.removeAllListeners(),this._style.parent=void 0,s.GroupController.unRegistrerGroup(this)}releaseAll(){for(let t=0;t<this.uiChildren.length;t++){const e=this.uiChildren[t];e.offAll(),e.release(),e.releaseAll()}this.uiChildren=[],this.container.removeAllListeners(),this.container.removeChildren(),this.isRelease=!0}initialize(){this.initialized=!0,this.draggable&&this.initDraggable(),this.droppable&&this.initDroppable()}clearDraggable(){this.dragInitialized&&(this.dragInitialized=!1,this.drag&&this.drag.stopEvent())}initDraggable(){if(!this.dragInitialized){this.dragInitialized=!0;const t=new PIXI.Point,e=new PIXI.Point;this._dragPosition=new PIXI.Point,this.drag=new s.DragEvent(this),this.drag.onDragStart=i=>{const n=s.DragDropController.add(this,i);if(!this.dragging&&n){if(this.dragging=!0,this.container.interactive=!1,t.copyFrom(this.container.position),this.dragContainer){let t;this.dragContainer instanceof a?t=this.dragContainer.container:this.dragContainer instanceof PIXI.Container&&(t=this.dragContainer),t&&this.parent&&(e.set(t.worldTransform.tx-this.parent.container.worldTransform.tx,t.worldTransform.ty-this.parent.container.worldTransform.ty),t.addChild(this.container))}else e.set(0);this.emit("onDragStart",i)}},this.drag.onDragMove=(i,s)=>{this.dragging&&this._dragPosition&&(this._dragPosition.set(t.x+s.x-e.x,t.y+s.y-e.y),this.x=this._dragPosition.x,this.y=this._dragPosition.y,this.emit("onDragMove",i))},this.drag.onDragEnd=t=>{this.dragging&&(this.dragging=!1,setTimeout(()=>{if(this.container.interactive=!0,s.DragDropController.getItem(this)&&this.parent){const t=this.parent.container;t&&t.toLocal(this.container.position,this.container.parent),t!=this.container&&(this.parent,this.parent.addChild(this))}this.emit("onDragEnd",t)},0))}}}clearDroppable(){this.dropInitialized&&(this.dropInitialized=!1,this.container.off("mouseup",this.onDrop,this),this.container.off("touchend",this.onDrop,this))}initDroppable(){if(!this.dropInitialized){this.dropInitialized=!0;const t=this.container;this.container.interactive=!0,t.on("mouseup",this.onDrop,this),t.on("touchend",this.onDrop,this)}}onDrop(t){const e=s.DragDropController.getEventItem(t,this.dropGroup);if(e&&e.dragging){e.dragging=!1,e.container.interactive=!0;const t=void 0!==this.droppableReparent?this.droppableReparent:this;t&&(t.container.toLocal(e.container.position,e.container.parent),t.container!=e.container.parent&&t.addChild(e))}}}e.UIBase=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(9),n=i(1),o=i(20);function r(t,i,s){if(i.container.isEmitRender=!0,s)return void i.delayDrawList.set(t,s);const n=e.CSSFunction[t];n&&("string"==typeof n?i.delayDrawList.set(n,e.CSSFunction[n]):i.delayDrawList.set(t,e.CSSFunction[t]))}function h(t,e){t instanceof s.Label?t.sprite.style[e]=t.style[e]:t.setInputStyle(e,t.style[e])}e.CSSFunction={},e.addDrawList=r,e.updateDrawList=function(t){const e=t.delayDrawList.get("updateDisplayList");e&&(e(t),t.delayDrawList.delete("updateDisplayList")),t.delayDrawList.forEach((e,i,s)=>{e.call(t,t,i),t.delayDrawList.delete(i)}),t.container.isEmitRender=!1,t.delayRenderedComplete=!0},e.updateStyleProxyHandler={get:(t,e,i)=>t[e],set:(t,e,i,s)=>t[e]===i||(t[e]=i,t.parent&&r(e,t.parent),!0)},e.CSSFunction.updateDisplayList=t=>{o.updateDisplayList(t)},e.CSSFunction.backgroundPositionSize=t=>{if(t.background&&t.background.children.length>0){const e=t.background.getChildAt(0),i=t.style;e instanceof PIXI.TilingSprite?e.tilePosition.set(i.backgroundPositionX||0,i.backgroundPositionY||0):(i.backgroundSize&&(e.width=i.backgroundSize[0],e.height=i.backgroundSize[1]),e.position.set(i.backgroundPositionX||0,i.backgroundPositionY||0))}},e.CSSFunction.backgroundPositionX=t=>{e.CSSFunction.backgroundPositionSize(t)},e.CSSFunction.backgroundPositionY=t=>{e.CSSFunction.backgroundPositionSize(t)},e.CSSFunction.backgroundSize=t=>{e.CSSFunction.backgroundPositionSize(t)},e.CSSFunction.backgroundRepeat=t=>{const e=t.style;if(e.backgroundImage&&t.background){let i;if(t.background.removeChildren(),e.backgroundImage instanceof PIXI.Texture?i=e.backgroundImage:"string"==typeof e.backgroundImage&&(i=n.getTexture(e.backgroundImage)),i){let s;void 0===e.backgroundRepeat&&(e.backgroundRepeat="no-repeat"),s="repeat"===e.backgroundRepeat?new PIXI.TilingSprite(i):new PIXI.Sprite(i),t.background.addChild(s);const n=new PIXI.Graphics;n.beginFill(16724736),n.drawRect(0,0,t.width,t.height),n.endFill(),t.background.addChild(n),t.background.mask=n}}},e.CSSFunction.backgroundColor=t=>{void 0===t.background&&(t.background=new PIXI.Graphics,t.background.name="background",t.container.addChildAt(t.background,0));const e=t.style,i=t.background;e.backgroundColor&&(i.clear(),i.beginFill(e.backgroundColor),i.drawRoundedRect(0,0,t.width,t.height,0),i.endFill())},e.CSSFunction.backgroundImage=t=>{void 0===t.background&&(t.background=new PIXI.Graphics,t.background.name="background",t.container.addChildAt(t.background,0)),e.CSSFunction.backgroundRepeat(t),e.CSSFunction.backgroundPositionSize(t)},e.CSSFunction.maskPosition=t=>{if(t.mask){const e=t.style;if(void 0===e.maskPosition)return;t.mask instanceof s.UIBase?(t.mask.x=e.maskPosition[0],t.mask.y=e.maskPosition[1]):t.mask.position.set(e.maskPosition[0],e.maskPosition[1])}},e.CSSFunction.maskSize=t=>{if(t.mask){const e=t.style;if(void 0===e.maskSize)return;t.mask.width=e.maskSize[0],t.mask.height=e.maskSize[1],t.mask instanceof s.UIBase||t.mask.updateTransform()}},e.CSSFunction.maskImage=t=>{t.container.mask=null,t.mask&&t.mask.parent&&(t.mask instanceof s.UIBase?t.removeChild(t.mask):t.mask.parent.removeChild(t.mask));for(let e=0;e<t.uiChildren.length;e++)if("maskImage"==t.uiChildren[e].name){t.removeChild(t.uiChildren[e]);break}t.mask=void 0;const i=t.style,o=t.container;i.maskImage instanceof PIXI.Graphics?(t.mask=i.maskImage,o.mask=t.mask,o.addChild(t.mask)):i.maskImage instanceof s.UIBase?(t.mask=i.maskImage,t.mask.name="maskImage",t.mask.container.name="maskImage",o.mask=t.mask.container||null,t.addChild(t.mask)):(t.mask=PIXI.Sprite.from(n.getTexture(i.maskImage)),o.mask=t.mask,o.addChild(t.mask)),e.CSSFunction.maskSize(t),e.CSSFunction.maskPosition(t)},e.CSSFunction.alpha=t=>{const e=t.style;t.container.alpha=e.alpha},e.CSSFunction.visible=t=>{const e=t.style;t.container.visible=e.visible},e.CSSFunction.tint=t=>{t.container.children.forEach(e=>{e.tint&&(e.tint=t.tint)})},e.CSSFunction.transform=t=>{t.container.setTransform(t.x+t.pivotX,t.y+t.pivotY,t.scaleX,t.scaleY,t.rotation*(Math.PI/180),t.skewX,t.skewY,t.pivotX,t.pivotY)},e.CSSFunction.blendMode=t=>{t.container.children.forEach(e=>{e instanceof PIXI.Sprite&&(e.blendMode=t.blendMode||PIXI.BLEND_MODES.NORMAL)})},e.CSSFunction.width="updateDisplayList",e.CSSFunction.minWidth="updateDisplayList",e.CSSFunction.maxWidth="updateDisplayList",e.CSSFunction.height="updateDisplayList",e.CSSFunction.minHeight="updateDisplayList",e.CSSFunction.maxHeight="updateDisplayList",e.CSSFunction.left="updateDisplayList",e.CSSFunction.top="updateDisplayList",e.CSSFunction.right="updateDisplayList",e.CSSFunction.bottom="updateDisplayList",e.CSSFunction.pivotX=t=>{t.pivotX=t.style.pivotX},e.CSSFunction.pivotY=t=>{t.pivotY=t.style.pivotY},e.CSSFunction.scaleX=t=>{t.scaleX=t.style.scaleX},e.CSSFunction.scaleY=t=>{t.scaleY=t.style.scaleY},e.CSSFunction.rotation=t=>{t.rotation=t.style.rotation},e.CSSFunction.skewX=t=>{t.skewX=t.style.skewX},e.CSSFunction.skewY=t=>{t.skewY=t.style.skewY},e.CSSFunction.skewY=t=>{t.skewY=t.style.skewY},e.CSSFunction.color=(t,e)=>{t instanceof s.Label?t.sprite.style.fill=t.style[e]:t.setInputStyle(e,t.style[e])},e.CSSFunction.letterSpacing=h,e.CSSFunction.wordWrap=h,e.CSSFunction.wordWrapWidth=h,e.CSSFunction.textAlign=h,e.CSSFunction.lineHeight=h,e.CSSFunction.fontFamily=h,e.CSSFunction.fontStyle=h,e.CSSFunction.fontVariant=h,e.CSSFunction.fontWeight=h,e.CSSFunction.padding=h,e.CSSFunction.stroke=h,e.CSSFunction.strokeThickness=h,e.CSSFunction.dropShadow=h,e.CSSFunction.dropShadowAlpha=h,e.CSSFunction.dropShadowAngle=h,e.CSSFunction.dropShadowBlur=h,e.CSSFunction.dropShadowColor=h,e.CSSFunction.dropShadowDistance=h,e.CSSFunction.breakWords=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Easing={Linear:{None:t=>t},Quadratic:{In:t=>Math.pow(t,2),Out:t=>t*(2-t),InOut:t=>(t*=2)<1?.5*Math.pow(t,2):-.5*(--t*(t-2)-1)},Cubic:{In:t=>Math.pow(t,3),Out:t=>--t*t*t+1,InOut:t=>(t*=2)<1?.5*Math.pow(t,3):.5*((t-=2)*t*t+2)},Quartic:{In:t=>Math.pow(t,4),Out:t=>1- --t*t*t*t,InOut:t=>(t*=2)<1?.5*Math.pow(t,4):-.5*((t-=2)*t*t*t-2)},Quintic:{In:t=>Math.pow(t,5),Out:t=>--t*t*t*t*t+1,InOut:t=>(t*=2)<1?.5*Math.pow(t,5):.5*((t-=2)*t*t*t*t+2)},Sinusoidal:{In:t=>1-Math.cos(t*Math.PI/2),Out:t=>Math.sin(t*Math.PI/2),InOut:t=>.5*(1-Math.cos(Math.PI*t))},Exponential:{In:t=>0===t?0:Math.pow(1024,t-1),Out:t=>1===t?1:1-Math.pow(2,-10*t),InOut:t=>0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},Circular:{In:t=>1-Math.sqrt(1-t*t),Out:t=>Math.sqrt(1- --t*t),InOut:t=>(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},Elastic:{In:t=>0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI),Out:t=>0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1,InOut:t=>0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1},Back:{In(t){const e=1.70158;return t*t*((e+1)*t-e)},Out(t){const e=1.70158;return--t*t*((e+1)*t+e)+1},InOut(t){const e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:t=>1-e.Easing.Bounce.Out(1-t),Out(t){const e=2.75,i=7.5625;return t<1/e?i*t*t:t<2/e?i*(t-=1.5/e)*t+.75:t<2.5/e?i*(t-=2.25/e)*t+.9375:i*(t-=2.625/e)*t+.984375},InOut:t=>t<.5?.5*e.Easing.Bounce.In(2*t):.5*e.Easing.Bounce.Out(2*t-1)+.5},Stepped:{steps:t=>e=>(e*t|0)/t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(13),n=i(7);class o extends s.Core{constructor(t,e){super(),this._width=0,this._height=0,this._width=t,this._height=e,this.stage=this,this.container.name="Stage",this.container.hitArea=new PIXI.Rectangle(0,0,t,e),this.container.interactive=!0,this.container.interactiveChildren=!0,o._stage=this,this.initialized=!0}static get Ins(){return o._stage}releaseAll(){for(let t=0;t<this.uiChildren.length;t++){const e=this.uiChildren[t];e.offAll(),e.release(),e.releaseAll()}this.uiChildren=[],this.container.removeAllListeners(),this.container.removeChildren(),n.shared.removeAllListeners()}get width(){return this._width}set width(t){isNaN(t)||(this._width=t,this.resize())}get height(){return this._height}set height(t){isNaN(t)||(this._height=t,this.resize())}resize(){this.container.hitArea=new PIXI.Rectangle(0,0,this.width,this.height),this.updateChildren()}}e.Stage=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class s extends PIXI.interaction.InteractionEvent{constructor(){super()}}e.InteractionEvent=s,e.TouchMouseEvent={onHover:"hover",onPress:"press",onClick:"click",onMove:"move"},e.TweenEvent={Callback:"Callback",update:"update",complete:"complete",start:"start",repeat:"repeat",reverse:"reverse",pause:"pause",play:"play",restart:"restart",stop:"stop"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(31);class n extends PIXI.utils.EventEmitter{constructor(t){super(),this._disabled=!0,t&&(this.disabled=!1)}get disabled(){return this._disabled}set disabled(t){t!=this._disabled&&(this._disabled=t)}update(t,e,i){this._disabled||(s.update(i),this.emit("update",t,e,i))}addUpdateEvent(t,e){return this.on("update",t,e)}removeUpdateEvent(t,e){return this.removeListener("update",t,e)}}e.shared=new n(!0)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(2),n=i(1),o=i(0),r=i(3);class h extends s.UIBase{constructor(){super(),this._fillMode="no-repeat"}get src(){return this._src}set src(t){this._src=t,r.addDrawList("src",this,this.srcSystem)}get scale9Grid(){return this._scale9Grid}set scale9Grid(t){this._scale9Grid=t,r.addDrawList("scale9Grid",this,this.scale9GridSystem)}get fillMode(){return this._fillMode}set fillMode(t){this._fillMode=t,this._source=void 0,r.addDrawList("src",this,this.srcSystem)}get anchorX(){return this._anchorX}set anchorX(t){this._anchorX=t,r.addDrawList("anchor",this,this.anchorSystem)}get anchorY(){return this._anchorY}set anchorY(t){this._anchorY=t,r.addDrawList("anchor",this,this.anchorSystem)}update(){this.syncImageSize()}release(){super.release(),this.offAll(o.ComponentEvent.COMPLETE),this._sprite&&this._sprite.parent&&this._sprite.parent.removeChild(this._sprite).destroy()}syncImageSize(){const{_sprite:t,_texture:e}=this;t&&(this._width>1?t.width=this._width:e&&e.width>1&&(this._width=t.width=e.frame.width),this._height>1?t.height=this._height:e&&e.height>1&&(this._height=t.height=e.frame.height),this.anchorSystem())}srcSystem(){const{container:t,src:e}=this;if(void 0===e&&this._sprite&&this._sprite.parent&&(t.removeChild(this._sprite),this._sprite.destroy()),this._texture&&this._texture.removeAllListeners(),e&&e!==this._source){this._source=e;const i=this._texture=n.getTexture(e);i.once("update",()=>{this.syncImageSize(),this.emit(o.ComponentEvent.COMPLETE,this)},this);let s=this._sprite;PIXI.utils.isWebGLSupported()?"no-repeat"===this.fillMode?s instanceof PIXI.Sprite?s.texture=i:s=new PIXI.Sprite(i):"repeat"===this.fillMode?s instanceof PIXI.TilingSprite?s.texture=i:s=new PIXI.TilingSprite(i):"scale"===this.fillMode&&(s instanceof PIXI.NineSlicePlane?s.texture=i:s=new PIXI.NineSlicePlane(i)):s=PIXI.Sprite.from(i),s&&null==s.parent&&(this._sprite=t.addChild(s)),this.scale9GridSystem(),this.syncImageSize()}}scale9GridSystem(){if(void 0===this._sprite||void 0===this.scale9Grid)return;const t=this._sprite,e=this.scale9Grid;t instanceof PIXI.TilingSprite?(t.tileScale.set(e[0],e[1]),t.tilePosition.set(e[2],e[3])):t instanceof PIXI.NineSlicePlane&&(void 0!==e[0]&&(t.leftWidth=e[0]),void 0!==e[1]&&(t.rightWidth=e[1]),void 0!==e[2]&&(t.topHeight=e[2]),void 0!==e[3]&&(t.bottomHeight=e[3]))}anchorSystem(){if(void 0===this._sprite)return;const t=this._sprite;this.anchorX&&(t.x=-Math.floor(t.width*this.anchorX)),this.anchorY&&(t.y=-Math.floor(t.height*this.anchorY))}}e.Image=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(5);e.Stage=s.Stage;const n=i(2);e.UIBase=n.UIBase;const o=i(7);e.TickerShared=o.shared;const r=i(1);e.Utils=r;const h=i(21);e.Container=h.Container;const a=i(35);e.ScrollingContainer=a.ScrollingContainer;const l=i(8);e.Image=l.Image;const u=i(22);e.SpriteAnimated=u.SpriteAnimated;const d=i(23);e.Label=d.Label;const c=i(36);e.TextInput=c.TextInput;const p=i(38);e.Slider=p.Slider;const _=i(24);e.Button=_.Button;const m=i(39);e.CheckBox=m.CheckBox;const g=i(40);e.Rect=g.Rect;const f=i(41);e.Graphics=f.Graphics;const v=i(11);e.Tween=v.Tween;const S=i(19);e.Timeline=S.Timeline;const y=i(4);e.Easing=y.Easing;const b=i(42);e.Sound=b.Sound;const I=i(0);e.Interaction=I;const w=i(43);e.AlignEnum=w},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(1);e.FRAME_MS=50/3,e.TOO_LONG_FRAME_MS=250,e.CHAINED_TWEENS="_chainedTweens",e.STRING_PROP="STRING_PROP",e.NUM_REGEX=/\s+|([A-Za-z?().,{}:""[\]#%]+)|([-+]=+)?([-+]+)?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]=?\d+)?/g;const n=t=>isNaN(+t)||("+"===t[0]||"-"===t[0])&&"="===t[1]||""===t||" "===t,o=/^#([0-9a-f]{6}|[0-9a-f]{3})$/gi,r=(t,...e)=>{let i=s.hexToRgb(t);return"rgb("+i.r+", "+i.g+", "+i.b+")"};function h(t){if(t&&t.splice&&t.isString)return t;if("string"!=typeof t)return t;if("="===t.charAt(1))return t;const i=t.replace(o,r).match(e.NUM_REGEX);let s;return i&&(s=i.map(t=>n(t)?t:+t)),s.isString=!0,s}function a(t,i,s=e.RGB){return"number"==typeof t[i]&&(t[i-1]===s||t[i-3]===s||t[i-5]===s)}e.decomposeString=h,e.decompose=function t(i,s,n,o){const r=n[i],a=o[i];if(r===a)return!0;if(Array.isArray(r)&&Array.isArray(a)&&r.length===a.length)for(let e=0,n=a.length;e<n;e++){const n=r[e],o=a[e];n===o||"number"==typeof n&&"number"==typeof o||t(e,s[i],r,a)}if("number"==typeof r&&"number"==typeof a);else if(r&&r.splice&&r.isString&&a&&a.splice&&a.isString);else{if("string"==typeof r&&Array.isArray(a)){const t=h(r),e=a.map(h);return n[i]=t,o[i]=e,!0}if("string"==typeof r||"string"==typeof a){let t=Array.isArray(r)&&r[0]===e.STRING_PROP?r:h(r),s=Array.isArray(a)&&a[0]===e.STRING_PROP?a:h(a);if(void 0===t)return;let l=1;for(;l<t.length;)t[l]===s[l]&&"string"==typeof t[l-1]?(t.splice(l-1,2,t[l-1]+t[l]),s.splice(l-1,2,s[l-1]+s[l])):l++;return l=0,t[0]===e.STRING_PROP&&t.shift(),s[0]===e.STRING_PROP&&s.shift(),n[i]=t,o[i]=s,!0}if("object"==typeof r&&"object"==typeof a){if(Array.isArray(r)&&!r.isString)return r.map((e,n)=>t(n,s[i],r,a));for(let e in a)t(e,s[i],r,a);return!0}}return!1},e.RGB="rgb(",e.RGBA="rgba(",e.isRGBColor=a,e.recompose=function t(i,s,n,o,r,h,l){const u=l?n:n[i];let d=l?o:o[i];if(void 0===d)return u;if(void 0===u||"string"==typeof u||u===d)return d;if("object"==typeof u&&"object"==typeof d){if(!u||!d)return s[i];if("object"==typeof u&&u&&u.isString&&d&&d.splice&&d.isString){let t="";for(let i=0,s=u.length;i<s;i++)if(u[i]!==d[i]||"number"!=typeof u[i]||"number"==typeof d[i]){const s="number"==typeof u[i]&&"string"==typeof d[i]&&"="===d[i][1];let n="number"!=typeof u[i]?u[i]:s?u[i]+parseFloat(d[i][0]+d[i].substr(2))*r:u[i]+(d[i]-u[i])*r;(a(u,i)||a(u,i,e.RGBA))&&(n|=0),t+=n,s&&1===h&&(u[i]=u[i]+parseFloat(d[i][0]+d[i].substr(2)))}else t+=u[i];return l||(s[i]=t),t}if(Array.isArray(u)&&u[0]!==e.STRING_PROP)for(let e=0,n=u.length;e<n;e++)u[e]!==d[e]&&"string"!=typeof s[i]&&t(e,s[i],u,d,r,h);else if("object"==typeof u&&u&&!u.isString)for(let e in u)u[e]!==d[e]&&t(e,s[i],u,d,r,h)}else if("number"==typeof u){const t="string"==typeof d;s[i]=t?u+parseFloat(d[0]+d.substr(2))*r:u+(d-u)*r,t&&1===h&&(n[i]=s[i])}else"function"==typeof d&&(s[i]=d(r));return s[i]};const l=/([.[])/g,u=/\]/g,d=function(t,e){const i=t[e],s=e.replace(u,"").split(l),n=s.length-1;let o=Array.isArray(t),r="object"==typeof t&&!o;return r?(t[e]=null,delete t[e]):o&&t.splice(e,1),s.reduce((t,e,h)=>{o&&"."!==e&&"["!==e&&(e*=1);let a="["===s[h+1];if("."===e||"["===e)return"."===e?(r=!0,o=!1):"["===e&&(r=!1,o=!0),t;if(void 0===t[e]){if(o||r)return t[e]=h===n?i:o||a?[]:r?{}:null,r=o=!1,t[e]}else if(void 0!==t[e])return h===n&&(t[e]=i),t[e];return t},t)};e.SET_NESTED=function(t){if("object"==typeof t&&t)for(let e in t)if(-1!==e.indexOf(".")||-1!==e.indexOf("["))d(t,e);else if("object"==typeof t[e]&&t[e]){let i=t[e];for(let t in i)if(-1!==t.indexOf(".")||-1!==t.indexOf("["))d(i,t);else if("object"==typeof i[t]&&i[t]){let e=i[t];for(let t in e)-1===t.indexOf(".")&&-1===t.indexOf("[")||d(e,t)}}return t}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(1),n=i(4),o=i(18),r=i(17),h=i(10),a=i(6),l=n.Easing.Linear.None;class u extends PIXI.utils.EventEmitter{constructor(t){return super(),this._valuesEnd=null,this._duration=1e3,this._easingFunction=l,this._easingReverse=l,this._startTime=0,this._delayTime=0,this._repeat=0,this._initRepeat=0,this._isPlaying=!1,this._yoyo=!1,this._reversed=!1,this._onStartCallbackFired=!1,this._isFinite=!0,this._prevTime=0,this._rendered=!1,this._reverseDelayTime=0,this.data={},this.id=s.uid(),this.object=t,this._valuesStart=Array.isArray(t)?[]:{},this._interpolationFunction=o.Interpolation.Linear,this}static fromTo(t,e,i){return new u(t).to(e,i)}static to(t,e,i){return u.fromTo(t,e,i)}static from(t,e,i){return u.fromTo(t,e,i)}get isPlaying(){return this._isPlaying}get isStarted(){return this._onStartCallbackFired}get startTime(){return this._startTime}set startTime(t){this._startTime=t}set duration(t){this._duration="function"==typeof t?t(this._duration):t}get duration(){return this._duration}reverse(t){const{_reversed:e}=this;return this._reversed=void 0!==t?t:!e,this}reversed(){return this._reversed}pause(){return this._isPlaying?(this._isPlaying=!1,r.remove(this),this.emit(a.TweenEvent.pause,this.object)):this}play(){return this._isPlaying?this:(this._isPlaying=!0,this._startTime=0,r.add(this),this.emit(a.TweenEvent.play,this.object))}to(t,e=1e3){return this._valuesEnd=t,this._duration=e,this}render(){if(this._rendered)return this;const{_valuesStart:t,_valuesEnd:e,object:i}=this;if(!t.processed){for(const n in e){const o=i&&i[n]&&s.deepCopy(i[n]);t[n]=o||0,h.decompose(n,i,t,e)}t.processed=!0}return this._rendered=!0,this}start(t){return this._startTime=void 0!==t?t:0,this._startTime+=this._delayTime,this._prevTime=0,this._onStartCallbackFired=!1,this._rendered=!1,this._isPlaying=!0,r.add(this),this}stop(){const{_isPlaying:t,_isFinite:e,object:i,_duration:s,_initRepeat:n,_yoyo:o,_reversed:h}=this;if(!t)return this;const l=e?(n+1)%2==1:!h;return this._reversed=!1,this._prevTime=o&&l?s:0,this.update(0),this._isPlaying=!1,r.remove(this),this.emit(a.TweenEvent.stop,i)}delay(t){return this._delayTime=t,this}repeat(t){return this._repeat=this._duration?t:0,this._initRepeat=this._repeat,this._isFinite=isFinite(t),this}reverseDelay(t){return this._reverseDelayTime=t,this}yoyo(t,e){return this._yoyo="function"==typeof t?t(this._yoyo):null===t?this._yoyo:t,t||(this._reversed=!1),this._easingReverse=e||this._easingFunction,this}easing(t){return this._easingFunction=t,this}interpolation(t){return"function"==typeof t&&(this._interpolationFunction=t),this}gotoAndPlay(t){this._prevTime=t,this.update(0)}gotoAndStop(t){this._prevTime=t,this.update(0),this.pause()}gotoAndEnd(){this._prevTime=this._duration,this.update(0)}update(t,e,i){const{_onStartCallbackFired:s,_easingFunction:n,_easingReverse:o,_delayTime:u,_reverseDelayTime:d,_yoyo:c,_reversed:p,_startTime:_,_duration:m,_valuesStart:g,_valuesEnd:f,object:v,_isFinite:S,_isPlaying:y}=this;if(!y||_>0&&!i)return this._startTime-=t,this._startTime=Math.max(0,this._startTime),!0;let b,I,w=this._repeat;m?(this._prevTime+=t,t>h.TOO_LONG_FRAME_MS&&r.isRunning()&&r.isLagSmoothing()&&(this._prevTime-=h.FRAME_MS),b=(b=this._prevTime/m)>1?1:b,b=p?1-b:b):(b=1,w=0),s||(this._rendered||(this.render(),this._rendered=!0),this.emit(a.TweenEvent.start,v),this._onStartCallbackFired=!0);const C=p&&o||n;for(I in f){const t=g[I],e=f[I],i=C[I]?C[I](b):"function"==typeof C?C(b):l(b);"number"==typeof e?v[I]=t+(e-t)*i:"boolean"==typeof e?(v[I]=e,b=p?0:1):h.recompose(I,v,g,f,i,b)}return this.emit(a.TweenEvent.update,v,b,t),!(1===b||p&&0===b)||(this._prevTime=0,w>0&&m>0?(S&&this._repeat--,c&&(this._reversed=!p),this.emit(c&&!p?a.TweenEvent.reverse:a.TweenEvent.repeat,v),this._startTime=p&&d?d:u,!0):(e||(this._isPlaying=!1,r.remove(this)),this.emit(a.TweenEvent.complete,v),this._repeat=this._initRepeat,!1))}}u.core={add:r.add,get:r.get,getAll:r.getAll,remove:r.remove,removeAll:r.removeAll,removeDisplay:r.removeDisplay,update:r.update},u.Event=a.TweenEvent,e.Tween=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(2),n=i(0),o=i(5);class r extends s.UIBase{constructor(){super(),this.clickEvent=new n.ClickEvent(this,!0),this._currentState="up",this._focused=!1,this._useTab=!0,this._usePrev=!0,this._useNext=!0,this._down=!1,this.container.interactiveChildren=!1,this.on(n.TouchMouseEvent.onMove,this.onMove,this),this.on(n.TouchMouseEvent.onHover,this.onHover,this),this.on(n.TouchMouseEvent.onPress,this.onPress,this),this.on(n.TouchMouseEvent.onClick,this.onClick,this)}get currentState(){return this._currentState}set currentState(t){this._currentState!=t&&(this._currentState=t,this.emit(n.ComponentEvent.STATE_CHANGE,this,t))}onMove(){this._down||(this.currentState="move")}onHover(){this.currentState="up"}onPress(t,e,i){this._down=i,i?(this.focus(),this.currentState="down"):this.currentState="up"}onClick(){}keyDownEvent(t){const e=t;9===e.which?this._useTab&&(n.InputController.fireTab(),e.preventDefault()):38===e.which?this._usePrev&&(n.InputController.firePrev(),e.preventDefault()):40===e.which&&this._useNext&&(n.InputController.fireNext(),e.preventDefault())}documentMouseDown(){"down"!==this.currentState&&this.blur()}_bindEvents(){o.Stage.Ins&&(o.Stage.Ins.on("pointerdown",this.documentMouseDown,this),this.keyDownEventBind=this.keyDownEvent.bind(this),document.addEventListener("keydown",this.keyDownEventBind))}_clearEvents(){o.Stage.Ins&&(o.Stage.Ins.off("pointerdown",this.documentMouseDown,this),document.removeEventListener("keydown",this.keyDownEventBind))}focus(){this._focused||(this._focused=!0,this._bindEvents(),n.InputController.set(this),this.emit("focusChanged",!0),this.emit("focus"))}blur(){this._focused&&(n.InputController.clear(),this._focused=!1,this._clearEvents(),this.emit("focusChanged",!1),this.emit("blur"))}release(){super.release(),this.off(n.TouchMouseEvent.onMove,this.onMove,this),this.off(n.TouchMouseEvent.onHover,this.onHover,this),this.off(n.TouchMouseEvent.onPress,this.onPress,this),this.off(n.TouchMouseEvent.onClick,this.onClick,this),this.keyDownEventBind&&document.removeEventListener("keydown",this.keyDownEventBind),this.documentMouseDown&&o.Stage.Ins&&o.Stage.Ins.off("pointerdown",this.documentMouseDown,this)}setTabIndex(t,e){this._tabIndex=t,this._tabGroup=e,void 0!==t&&void 0!==e&&n.InputController.registrer(this,t,e)}}e.InputBase=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(14),n=i(0);class o extends PIXI.utils.EventEmitter{constructor(){super(),this.initialized=!1,this._childrenStartIndex=0,this.uiChildren=[],this.container=new s.ContainerBase}addChild(t){return this.addChildAt(t,this.uiChildren.length+this._childrenStartIndex)}addChildAt(t,e){return t.parent&&t.parent.removeChild(t),t.parent=this,this.container.addChildAt(t.container,e),this.uiChildren.splice(e,0,t),this.updatesettings(!0,!0),this.emit(n.ComponentEvent.ADDED,this),t}getChildAt(t){return this.uiChildren[t]||void 0}removeChild(t){const e=this.uiChildren.indexOf(t);if(-1!==e){const i=t.parent;t.container.parent.removeChild(t.container),this.uiChildren.splice(e,1),t.parent=void 0,setTimeout(()=>{i&&i.updatesettings&&i.updatesettings(!0,!0)},0),this.emit(n.ComponentEvent.REMOVEED,this)}return t}removeChildren(t,e){const i=t?t+this._childrenStartIndex:this._childrenStartIndex,s=e?e-this._childrenStartIndex:this.uiChildren.length-this._childrenStartIndex;for(let t=i;t<s;t++)this.removeChild(this.uiChildren[t])}updateParent(){this.parent&&this.parent.updatesettings&&this.parent.updatesettings(!1,!0)}updateChildren(){for(let t=0;t<this.uiChildren.length;t++)this.uiChildren[t].updatesettings(!0)}updatesettings(t,e){}set interactive(t){this.container.interactive=t}get interactive(){return this.container.interactive}set interactiveChildren(t){this.container.interactiveChildren=t}get interactiveChildren(){return this.container.interactiveChildren}set renderable(t){this.container.renderable=t}get renderable(){return this.container.renderable}set cacheAsBitmap(t){this.container.cacheAsBitmap=t}get cacheAsBitmap(){return this.container.cacheAsBitmap}offAll(t){return this.removeAllListeners(t)}}e.Core=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class s extends PIXI.Container{constructor(){super(),this.isEmitRender=!1}render(t){this.isEmitRender&&this.emit("renderChange",t),super.render(t)}}e.ContainerBase=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(5);e.DragEvent=class{constructor(t){this.id=0,this.offset=new PIXI.Point,this.movementX=0,this.movementY=0,this.bound=!1,this.start=new PIXI.Point,this.mouse=new PIXI.Point,this.cancel=!1,this.dragging=!1,this.isStop=!0,this.obj=t,t.container.interactive=!0,this.startEvent()}startEvent(){this.isStop&&(this.obj.container.on("mousedown",this._onDragStart,this),this.obj.container.on("touchstart",this._onDragStart,this),this.isStop=!1)}_onDragStart(t){if(this.id=t.data.identifier,this.onDragPress&&this.onDragPress.call(this.obj,t,!0,this),!this.bound&&this.obj.parent){const e=s.Stage.Ins.container;this.start.copyFrom(t.data.global),e.on("mousemove",this._onDragMove,this),e.on("touchmove",this._onDragMove,this),e.on("mouseup",this._onDragEnd,this),e.on("mouseupoutside",this._onDragEnd,this),e.on("touchend",this._onDragEnd,this),e.on("touchendoutside",this._onDragEnd,this),e.on("touchcancel",this._onDragEnd,this),this.bound=!0}t.data.originalEvent.preventDefault()}_onDragMove(t){if(t.data.identifier===this.id){if(this.mouse.copyFrom(t.data.global),this.offset.set(this.mouse.x-this.start.x,this.mouse.y-this.start.y),!this.dragging){if(this.movementX=Math.abs(this.offset.x),this.movementY=Math.abs(this.offset.y),0===this.movementX&&0===this.movementY||Math.max(this.movementX,this.movementY)<this.obj.dragThreshold)return;if(void 0!==this.obj.dragRestrictAxis&&(this.cancel=!1,"x"==this.obj.dragRestrictAxis&&this.movementY>this.movementX?this.cancel=!0:"y"==this.obj.dragRestrictAxis&&this.movementY<=this.movementX&&(this.cancel=!0),this.cancel))return void this._onDragEnd(t);this.onDragStart&&this.onDragStart.call(this.obj,t,this),this.dragging=!0}this.onDragMove&&this.onDragMove.call(this.obj,t,this.offset,this)}}_onDragEnd(t){if(t.data.identifier===this.id&&this.bound){const e=s.Stage.Ins.container;e.removeListener("mousemove",this._onDragMove,this),e.removeListener("touchmove",this._onDragMove,this),e.removeListener("mouseup",this._onDragEnd,this),e.removeListener("mouseupoutside",this._onDragEnd,this),e.removeListener("touchend",this._onDragEnd,this),e.removeListener("touchendoutside",this._onDragEnd,this),e.removeListener("touchcancel",this._onDragEnd,this),this.dragging=!1,this.bound=!1,this.onDragEnd&&this.onDragEnd.call(this.obj,t,this),this.onDragPress&&this.onDragPress.call(this.obj,t,!1,this)}}stopEvent(){if(this.bound){const t=s.Stage.Ins.container;t.off("mousemove",this._onDragMove,this),t.off("touchmove",this._onDragMove,this),t.off("mouseup",this._onDragEnd,this),t.off("mouseupoutside",this._onDragEnd,this),t.off("touchend",this._onDragEnd,this),t.off("touchendoutside",this._onDragEnd,this),this.bound=!1}this.obj.container.off("mousedown",this._onDragStart,this),this.obj.container.off("touchstart",this._onDragStart,this),this.isStop=!0}remove(){this.stopEvent(),this.onDragPress=void 0,this.onDragEnd=void 0,this.onDragMove=void 0,this.onDragStart=void 0,this.obj.container.interactive=!1}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(1);e.MouseScrollEvent=class{constructor(t,e){this.id="",this.delta=new PIXI.Point,this.isStop=!0,this.obj=t,this.preventDefault=e,t.container.interactive=!0,this.startEvent()}startEvent(){this.isStop&&(this.obj.container.on("mouseover",this._onHover,this),this.obj.container.on("mouseout",this._onMouseOut,this),this.isStop=!1)}_onMouseScroll(t){const e=t;this.preventDefault&&e.preventDefault(),void 0!==e.deltaX?this.delta.set(e.deltaX,e.deltaY):this.delta.set(1==e.axis?60*e.detail:0,2==e.axis?60*e.detail:0),this.onMouseScroll&&this.onMouseScroll.call(this.obj,e,this.delta)}_onHover(){void 0===this.mouseScrllBind&&(this.id=s.uid(),this.mouseScrllBind=this._onMouseScroll.bind(this),document.addEventListener("mousewheel",this.mouseScrllBind,{passive:!1}),document.addEventListener("DOMMouseScroll",this.mouseScrllBind,{passive:!1}))}_onMouseOut(){this.mouseScrllBind&&(document.removeEventListener("mousewheel",this.mouseScrllBind),document.removeEventListener("DOMMouseScroll",this.mouseScrllBind),this.mouseScrllBind=void 0)}stopEvent(){this.mouseScrllBind&&(document.removeEventListener("mousewheel",this.mouseScrllBind),document.removeEventListener("DOMMouseScroll",this.mouseScrllBind),this.mouseScrllBind=void 0),this.obj.container.removeListener("mouseover",this._onHover,this),this.obj.container.removeListener("mouseout",this._onMouseOut,this),this.isStop=!0}remove(){this.stopEvent()}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=[];let n=!1,o=0,r=120,h=!0;function a(t){const e=s.indexOf(t);-1!==e&&s.splice(e,1),0===s.length&&(n=!1)}e.Plugins={},e.add=function(t){let e=s.indexOf(t);e>-1&&s.splice(e,1),s.push(t),o=0,n=!0},e.FrameThrottle=function(t=120){r=1.05*t},e.ToggleLagSmoothing=function(t=!0){h=t},e.getAll=function(){return s},e.removeAll=function(){s.length=0,n=!1},e.get=function(t){for(let e=0;e<s.length;e++)if(t===s[e])return s[e];return null},e.removeDisplay=function(t){for(let e=0;e<s.length;e++)if(console.log(s[e].object.uuid),s[e].object.uuid&&t===s[e].object.uuid)return s[e].stop(),void a(s[e])},e.remove=a,e.update=function(t,e=!1){if(!n)return!1;if(o>=r&&h)return console.log("mptyFrame >= powerModeThrottle && handleLag"),n=!1,o=0,!1;s.length||o++;let i=0,a=s.length;for(;i<a;)s[i++].update(t,e),a>s.length&&i--,a=s.length;return!0},e.isRunning=function(){return n},e.isLagSmoothing=function(){return h}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(10);e.Interpolation={Linear(t,i,s){const n=t.length-1,o=n*i,r=Math.floor(o),h=e.Interpolation.Utils.Linear;return i<0?h(t[0],t[1],o,s):i>1?h(t[n],t[n-1],n-o,s):h(t[r],t[r+1>n?n:r+1],o-r,s)},Bezier(t,i,s){let n=e.Interpolation.Utils.Reset(s),o=t.length-1,r=Math.pow,h=e.Interpolation.Utils.Bernstein,a=Array.isArray(n);for(let e=0;e<=o;e++)if("number"==typeof n)n+=r(1-i,o-e)*r(i,e)*t[e]*h(o,e);else if(a)for(let s=0,a=n.length;s<a;s++)"number"==typeof n[s]?n[s]+=r(1-i,o-e)*r(i,e)*t[e][s]*h(o,e):n[s]=t[e][s];else if("object"==typeof n)for(let s in n)"number"==typeof n[s]?n[s]+=r(1-i,o-e)*r(i,e)*t[e][s]*h(o,e):n[s]=t[e][s];else if("string"==typeof n){let e="",s=t[Math.round(o*i)];for(let t=1,i=s.length;t<i;t++)e+=s[t];return e}return n},CatmullRom(t,i,s){const n=t.length-1;let o=n*i,r=Math.floor(o);const h=e.Interpolation.Utils.CatmullRom;return t[0]===t[n]?(i<0&&(r=Math.floor(o=n*(1+i))),h(t[(r-1+n)%n],t[r],t[(r+1)%n],t[(r+2)%n],o-r,s)):i<0?h(t[1],t[1],t[0],t[0],-i,s):i>1?h(t[n-1],t[n-1],t[n],t[n],(0|i)-i,s):h(t[r?r-1:0],t[r],t[n<r+1?n:r+1],t[n<r+2?n:r+2],o-r,s)},Utils:{Linear(t,i,n,o){if(t===i||"string"==typeof t){if(i.length&&i.splice&&i.isString){i="";for(let e=0,s=t.length;e<s;e++)i+=t[e]}return i}if("number"==typeof t)return"function"==typeof t?t(n):t+(i-t)*n;if("object"==typeof t){if(void 0!==t.length){const r="string"==typeof t[0]||t.isString;if(r||t[0]===s.STRING_PROP){let e="";for(let o=r?0:1,h=t.length;o<h;o++){let r=0===n?t[o]:1===n?i[o]:"number"==typeof t[o]?t[o]+(i[o]-t[o])*n:i[o];(n>0&&n<1&&s.isRGBColor(t,o)||s.isRGBColor(t,o,s.RGBA))&&(r|=0),e+=r}return e}if(o&&o.length&&o.splice)for(let s=0,r=o.length;s<r;s++)o[s]=e.Interpolation.Utils.Linear(t[s],i[s],n,o[s])}else for(const s in o)o[s]=e.Interpolation.Utils.Linear(t[s],i[s],n,o[s]);return o}},Reset(t){if(Array.isArray(t)){for(let i=0,s=t.length;i<s;i++)t[i]=e.Interpolation.Utils.Reset(t[i]);return t}if("object"==typeof t){for(let i in t)t[i]=e.Interpolation.Utils.Reset(t[i]);return t}return"number"==typeof t?0:t},Bernstein(t,i){const s=e.Interpolation.Utils.Factorial;return s(t)/s(i)/s(t-i)},Factorial:function(){const t=[1];return e=>{let i=1;if(t[e])return t[e];for(let t=e;t>1;t--)i*=t;return t[e]=i,i}}(),CatmullRom(t,i,n,o,r,h){if("string"==typeof t)return i;if("number"==typeof t){const e=.5*(n-t),s=.5*(o-i),h=r*r;return(2*i-2*n+e+s)*(r*h)+(-3*i+3*n-2*e-s)*h+e*r+i}if("object"==typeof t){if(void 0!==t.length){if(t[0]===s.STRING_PROP){let h="";for(let a=1,l=t.length;a<l;a++){let l="number"==typeof t[a]?e.Interpolation.Utils.CatmullRom(t[a],i[a],n[a],o[a],r):o[a];(s.isRGBColor(t,a)||s.isRGBColor(t,a,s.RGBA))&&(l|=0),h+=l}return h}for(let s=0,a=h.length;s<a;s++)h[s]=e.Interpolation.Utils.CatmullRom(t[s],i[s],n[s],o[s],r,h[s])}else for(const s in h)h[s]=e.Interpolation.Utils.CatmullRom(t[s],i[s],n[s],o[s],r,h[s]);return h}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(7),n=i(4),o=i(32),r=i(0);class h{constructor(t){this.default=0,this.start=0,this.end=0,this.duration=0,this.startFrame=0,this.endFrame=0,this.prevTime=0,this.parent=t}release(){this.parent=void 0,this.easing=void 0,this.start=0,this.end=0,this.duration=0,this.endFrame=0,this.prevTime=0}load(){}destroy(){}}class a extends PIXI.utils.EventEmitter{constructor(){super(),this.id=-1,this._frames=new Array,this._frameCount=0,this._elapsedMS=16.66,this._prevTime=0,this._isStop=!1,this._lastNode=new Map,this._isSetDefault=!1,this.loop=!1}setDefault(t,e,i){this._object=t,this._elapsedMS=1e3/i;const s=Math.round(e/this._elapsedMS);this._frameCount=s;const n=this._frames;for(;n&&n.length>s;)n.pop();let o=0===n.length?0:n.length;for(;o<=s;o++)void 0===n[o]&&(n[o]=new Map);return this._isSetDefault=!0,this}addProperty(t,e,i,s){if(i>this._frameCount)throw"Error Timeline.addProperty overflow frame";const r=this._lastNode.get(t),a=o.objectPoolShared.pop(h);a.parent=void 0===r?void 0:r,a.startFrame=void 0===a.parent?0:a.parent.endFrame+1,a.end=e,a.start=void 0===a.parent?this._object[t]||0:a.parent.end,a.default=this._object[t]||0,a.easing=s||n.Easing.Linear.None,a.duration=(i-a.startFrame)*this._elapsedMS,a.endFrame=i,this._lastNode.set(t,a);for(let e=a.startFrame;e<=i;e++)this._frames[e].set(t,a);return this}stop(){this._isStop=!0}play(){this._isStop=!1}gotoAndPlay(t){this.goto(t,!1)}gotoAndStop(t){this.goto(t,!0)}seekLastNode(t,e){return void 0===t.parent?t:(t.endFrame>e&&this.seekLastNode(t.parent,e),t)}goto(t,e){const{_lastNode:i,_frames:s}=this;i.forEach((e,i)=>{const s=this.seekLastNode(e,t);s.prevTime=s.duration,this.updateobject(i,s)},this),this._prevTime=t*this._elapsedMS;for(let e=t;e<s.length;e++)s[e].forEach((i,s)=>{e==t?(i.prevTime=(t-i.startFrame)*this._elapsedMS,this.updateobject(s,i)):i.prevTime=0},this);this._isStop=e,this._isStop||this.load()}update(t,e,i=0){if(this._isStop)return;let s=this._prevTime;const{_frames:n,_frameCount:o,_elapsedMS:h}=this,a=Math.round(s/h);if(a>=o){if(this.loop)return this.emit(r.ComponentEvent.LOOP,this),void this.goto(1,!1);this._isStop=!0,this.emit(r.ComponentEvent.COMPLETE,this)}if(null!=n[a])return s+=i,n[a].forEach((t,e)=>{t.start!==t.end&&(t.prevTime+=i,this.updateobject(e,t))},this),this._prevTime=s,!0;this._isStop=!0}updateobject(t,e){let i;i=e.duration?(i=e.prevTime/e.duration)>1?1:i:1;const s=e.easing(i),n=e.start,o=e.end;if("number"==typeof o)switch(t){case"x":case"y":case"angle":this._object[t]=e.default+Math.floor(n+(o-n)*s);break;case"scaleX":case"scaleY":case"rotation":this._object[t]=e.default*Math.floor(n+(o-n)*s);break;default:this._object[t]=Math.floor(n+(o-n)*s)}else"boolean"==typeof o&&(this._object[t]=o);return 1===i}load(){if(!this._isSetDefault)throw"Error Timeline.load undefined default";s.shared.removeUpdateEvent(this.update,this),s.shared.addUpdateEvent(this.update,this)}release(){s.shared.removeUpdateEvent(this.update,this),this._frames.forEach(t=>{t.forEach(t=>{o.objectPoolShared.push(h,t)}),t.clear()}),this.id=-1,this._object=void 0,this._frameCount=0,this._elapsedMS=16.666666666666,this._prevTime=0,this._isStop=!1,this._isSetDefault=!1,this.loop=!1,this._lastNode.clear()}}e.Timeline=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(2),n=i(9),o=i(34);function r(t,e){if(null==t)return NaN;if("number"==typeof t)return t;const i=t,s=i.indexOf("%");return-1==s?+i:.01*+i.substring(0,s)*e}function h(t,e){const i=[0];if(t)if("repeat"===t[0])for(let s=0;s<t[1];s++)i.push(r(t[2],e));else for(let s=0;s<t.length;s++)i.push(r(t[s],e));return i}e.$Rectangle=new PIXI.Rectangle,e.formatRelative=r,e.getLayoutBoundsSize=function(t,e,i){let o=0,h=0;t.parent instanceof s.UIBase?(h=t.parent.width,o=t.parent.height):t.parent instanceof n.Stage&&(h=t.parent.width,o=t.parent.height);const a=r(t.style.maxWidth,h),l=r(t.style.maxHeight,o),u=r(t.style.minWidth,h),d=r(t.style.minHeight,o);let c=e,p=i;return!isNaN(a)&&c>a&&(c=a),!isNaN(u)&&c<u&&(c=u),!isNaN(l)&&p>l&&(p=l),!isNaN(d)&&p<d&&(p=d),isNaN(c)&&(c=0),isNaN(p)&&(p=0),{width:c,height:p,x:0,y:0}},e.updateDisplayList=function(t){"block"===t.style.display?o.updateBlockLayout(t):"grid"===t.style.display&&o.updateBlockLayout(t)},e.updateDisplayGridList=function(t){if("grid"!==t.style.display)return;if(null==t.parent)return;t.style.gridColumnGap,t.style.gridRowGap,h(t.style.gridTemplateColumns,t.parent.width),h(t.style.gridTemplateRows,t.parent.height)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(2);class n extends s.UIBase{constructor(){super()}}e.Container=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(2),n=i(1),o=i(0),r=i(3);class h extends s.UIBase{constructor(){super(),this._lastAnimatedName="",this._curFrameNumber=0,this._animationName="default",this._animationSpeed=.1,this._loop=!1,this._playing=!1,this._anchorX=0,this._anchorY=0,this._animatedSprites=new Map}get animationName(){return this._animationName}set animationName(t){this._animationName!=t&&(this._animationName=t,r.addDrawList("animatedNameSystem",this,this.animatedNameSystem))}get src(){return this._src}set src(t){this._src=t,r.addDrawList("srcSystem",this,this.srcSystem)}get animationSpeed(){return this._animationSpeed}set animationSpeed(t){this._animationSpeed=t,r.addDrawList("attribSystem",this,this.attribSystem)}get loop(){return this._loop}set loop(t){this._loop=t,r.addDrawList("attribSystem",this,this.attribSystem)}get playing(){return this._playing}get anchorX(){return this._anchorX}set anchorX(t){this._anchorX=t,r.addDrawList("attribSystem",this,this.attribSystem)}get anchorY(){return this._anchorY}set anchorY(t){this._anchorY=t,r.addDrawList("attribSystem",this,this.attribSystem)}gotoAndPlay(t){this._curFrameNumber=t,this._playing=!0,r.addDrawList("playSystem",this,this.playSystem)}gotoAndStop(t){this._curFrameNumber=t,this._playing=!1,r.addDrawList("playSystem",this,this.playSystem)}stop(){this._curFrameNumber=0,this._playing=!1,r.addDrawList("playSystem",this,this.playSystem)}play(){this._curFrameNumber=0,this._playing=!0,r.addDrawList("playSystem",this,this.playSystem)}addAnimated(t,e){const i=this._animatedSprites.get(t);i&&i.parent&&(i.parent.removeChild(i),i.removeAllListeners(),i.destroy()),this._animatedSprites.set(t,new PIXI.AnimatedSprite(e))}release(){super.release(),this.releaseAnimate(),this.src=void 0}releaseAnimate(){this._animatedSprites.forEach(t=>{t.stop(),t.removeAllListeners(),t.parent&&t.parent.removeChild(t).destroy()})}srcSystem(){this.releaseAnimate();const t=this.src;if(t){if(Array.isArray(t)){const e=[];t.forEach(t=>{e.push(n.getTexture(t))}),this.addAnimated("default",e)}else for(const e in t.animations)this.addAnimated(e,t.animations[e]);this.animatedNameSystem()}}animatedNameSystem(){if(0==this._animatedSprites.size)return;if(this.animationName===this._lastAnimatedName)return;const t=this._animatedSprites.get(this.animationName);if(null==t)return void n.log(`Warning SpriteAnimated -> _animatedSprites[${this.animationName}] == undefined`);const e=this._animatedSprites.get(this._lastAnimatedName);t.onLoop=()=>{this.emit(o.ComponentEvent.LOOP,this)},t.onComplete=()=>{this.emit(o.ComponentEvent.COMPLETE,this)},null==t.parent&&setTimeout(()=>{this.container.addChild(t)},0),e&&e.parent&&(e.stop(),e.parent.removeChild(e)),this._lastAnimatedName=this.animationName,this._curFrameNumber=0,this.emit(o.ComponentEvent.CHANGE,this,this.animationName),this.attribSystem(),this.playSystem()}playSystem(){const t=this._animatedSprites.get(this.animationName);t&&(this.playing?t.gotoAndPlay(this._curFrameNumber):t.gotoAndStop(this._curFrameNumber))}attribSystem(){const t=this._animatedSprites.get(this.animationName);t&&(t.loop=this.loop,t.animationSpeed=this.animationSpeed,t.anchor.set(this.anchorX,this.anchorY))}}e.SpriteAnimated=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(2),n=i(0),o=i(3);class r extends s.UIBase{constructor(t=""){super(),this._text="",this.text=t,this.sprite=new PIXI.Text(this.text,{breakWords:!0}),this.container.addChild(this.sprite)}get text(){return this._text}set text(t){this._text=t,o.addDrawList("text",this,this.textSystem)}set fontCssStyle(t){t.color&&(t.fill=t.color),t.breakWords=!0,this.sprite.style=t}release(){super.release();const t=this.sprite;t&&t.parent&&t.parent.removeChild(t).destroy(),this.offAll(n.ComponentEvent.CHANGE)}textSystem(){this.sprite.text=this._text,0==this._width?this._width=this.sprite.width:this.sprite.width=this._width,0==this._height?this._height=this.sprite.height:this.sprite.height=this._height,this.emit(n.ComponentEvent.CHANGE,this)}}e.Label=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(23),n=i(8),o=i(12),r=i(0);class h extends o.InputBase{constructor(){super(),this._selectedStr="",this._oldState="",this.img=new n.Image,this.label=new s.Label,this.container.buttonMode=!0,this.img.fillMode="scale",this.img.scale9Grid=[3,3,3,3],this.addChild(this.img),this.label.sprite.style.fontSize=18,this.label.on(r.ComponentEvent.CHANGE,this.onLabelChange,this),this.addChild(this.label),this.on(r.ComponentEvent.STATE_CHANGE,this.onStateChange,this)}get text(){return this.label.text}set text(t){this.label.text=t}update(t){this.container.hitArea=new PIXI.Rectangle(0,0,this._width,this._height);const e=this.img;e.width=this._width,e.height=this._height,this.onStateChange(this,this.currentState)}release(){super.release(),this.offAll(r.ComponentEvent.STATE_CHANGE),this.img.release(),this.label.release()}onLabelChange(t){t.x=this.width-t.width>>1,t.y=this.height-t.height>>1}onStateChange(t,e){if(this._oldState==e)return;this._oldState=e,this.img.src=this[e+this._selectedStr]}}e.Button=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(9);window.vfui=s,e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(6);e.ClickEvent=class{constructor(t,e,i,s,n){this.id=0,this.isOpenEmitEvent=!1,this.offset=new PIXI.Point,this.movementX=0,this.movementY=0,this.ishover=!1,this.mouse=new PIXI.Point,this.bound=!1,this.right=!1,this.hover=!0,this.double=!1,this.time=0,this.eventnameMousedown="mousedown",this.eventnameMouseup="mouseup",this.eventnameMouseupoutside="mouseupoutside",this.isStop=!0,this.obj=t,void 0!==e&&(this.isOpenEmitEvent=e),void 0!==i&&(this.right=i),void 0!==s&&(this.hover=s),void 0!==n&&(this.double=n),this.right&&(this.eventnameMousedown="rightdown",this.eventnameMouseup="rightup",this.eventnameMouseupoutside="rightupoutside"),t.container.interactive=!0,this.startEvent()}startEvent(){this.isStop&&(this.obj.container.on(this.eventnameMousedown,this._onMouseDown,this),this.right||this.obj.container.on("touchstart",this._onMouseDown,this),this.hover&&(this.obj.container.on("mouseover",this._onMouseOver,this),this.obj.container.on("mouseout",this._onMouseOut,this)),this.isStop=!1)}stopEvent(){this.bound&&(this.obj.container.off(this.eventnameMouseup,this._onMouseUp,this),this.obj.container.off(this.eventnameMouseupoutside,this._onMouseUpOutside,this),this.right||(this.obj.container.off("touchend",this._onMouseUp,this),this.obj.container.off("touchendoutside",this._onMouseUpOutside,this)),this.bound=!1),this.obj.container.off(this.eventnameMousedown,this._onMouseDown,this),this.right||this.obj.container.off("touchstart",this._onMouseDown,this),this.hover&&(this.obj.container.off("mouseover",this._onMouseOver,this),this.obj.container.off("mouseout",this._onMouseOut,this),this.obj.container.off("mousemove",this._onMouseMove,this),this.obj.container.off("touchmove",this._onMouseMove,this)),this.isStop=!0}_onMouseDown(t){if(this.mouse.copyFrom(t.data.global),this.id=t.data.identifier,this.onPress&&this.onPress.call(this.obj,t,this.obj,!0),this.obj,this.emitTouchEvent(s.TouchMouseEvent.onPress,t,!0),this.bound||(this.obj.container.on(this.eventnameMouseup,this._onMouseUp,this),this.obj.container.on(this.eventnameMouseupoutside,this._onMouseUpOutside,this),this.right||(this.obj.container.on("touchend",this._onMouseUp,this),this.obj.container.on("touchendoutside",this._onMouseUpOutside,this)),this.bound=!0),this.double){const e=performance.now();e-this.time<210?(this.onClick&&this.onClick.call(this.obj,t,this.obj),this.emitTouchEvent(s.TouchMouseEvent.onClick,t)):this.time=e}t.data.originalEvent.preventDefault()}emitTouchEvent(t,e,...i){this.isOpenEmitEvent&&(e.type=t.toString(),this.obj.emit(e.type,e,this.obj,...i))}_mouseUpAll(t){t.data.identifier===this.id&&(this.offset.set(t.data.global.x-this.mouse.x,t.data.global.y-this.mouse.y),this.bound&&(this.obj.container.off(this.eventnameMouseup,this._onMouseUp,this),this.obj.container.off(this.eventnameMouseupoutside,this._onMouseUpOutside,this),this.right||(this.obj.container.off("touchend",this._onMouseUp,this),this.obj.container.off("touchendoutside",this._onMouseUpOutside,this)),this.bound=!1),this.onPress&&this.onPress.call(this.obj,t,this.obj,!1),this.emitTouchEvent(s.TouchMouseEvent.onPress,t,!1))}_onMouseUp(t){t.data.identifier===this.id&&(this._mouseUpAll(t),this.obj.dragThreshold&&(this.movementX=Math.abs(this.offset.x),this.movementY=Math.abs(this.offset.y),Math.max(this.movementX,this.movementY)>this.obj.dragThreshold)||this.double||(this.onClick&&this.onClick.call(this.obj,t,this.obj),this.emitTouchEvent(s.TouchMouseEvent.onClick,t,!1)))}_onMouseUpOutside(t){t.data.identifier===this.id&&this._mouseUpAll(t)}_onMouseOver(t){this.ishover||(this.ishover=!0,this.obj.container.on("mousemove",this._onMouseMove,this),this.obj.container.on("touchmove",this._onMouseMove,this),this.onHover&&this.onHover.call(this.obj,t,this.obj,!0),this.emitTouchEvent(s.TouchMouseEvent.onHover,t,!0))}_onMouseOut(t){this.ishover&&(this.ishover=!1,this.obj.container.off("mousemove",this._onMouseMove,this),this.obj.container.off("touchmove",this._onMouseMove,this),this.onHover&&this.onHover.call(this.obj,t,this.obj,!1),this.emitTouchEvent(s.TouchMouseEvent.onHover,t,!1))}_onMouseMove(t){this.onMove&&this.onMove.call(this.obj,t,this.obj),this.emitTouchEvent(s.TouchMouseEvent.onMove,t)}remove(){this.stopEvent(),this.onPress=void 0,this.onHover=void 0,this.onClick=void 0,this.onMove=void 0,this.obj.container.interactive=!1}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._items=[],e.add=function(t,i){return t.dragDropEventId=i.data.identifier,-1===e._items.indexOf(t)&&(e._items.push(t),!0)},e.getItem=function(t){let i;for(let s=0;s<e._items.length;s++)if(e._items[s]===t){i=s;break}return void 0!==i&&(e._items.splice(i,1),t)},e.getEventItem=function(t,i){let s,n=null;const o=t.data.identifier;for(let t=0;t<e._items.length;t++)if(e._items[t].dragDropEventId===o){if(i!==e._items[t].dragGroup)return!1;n=e._items[t],s=t;break}return void 0!==s&&(e._items.splice(s,1),n)}},function(t,e,i){"use strict";let s;function n(){const t=s;t&&t.blur&&"function"==typeof t.blur&&t.blur()}Object.defineProperty(e,"__esModule",{value:!0}),e.tabGroups={},e._checkGroupObject={groups:{},values:{}},e.registrer=function(t,i,s){const n=s||"default";let o=e.tabGroups[n];o||(o=e.tabGroups[n]=[]),-1===o.indexOf(t)&&(t.attach._tabIndex=void 0!==i?i:-1,t.attach._tabGroup=o,o.push(t),o.sort((function(t,e){return t.attach._tabIndex<e.attach._tabIndex?-1:t.attach._tabIndex>e.attach._tabIndex?1:0})))},e.blur=n,e.set=function(t){n(),s=t},e.clear=function(){s=void 0},e.fireTab=function(){if(s){const t=s.attach._tabGroup;let e=t.indexOf(s)+1;e>=t.length&&(e=0);const i=t[e];i.focus&&i.focus()}},e.fireNext=function(){if(s){const t=s.attach._tabGroup;let e=t.indexOf(s)+1;e>=t.length&&(e=t.length-1);const i=t[e];i.focus&&i.focus()}},e.firePrev=function(){if(s){const t=s.attach._tabGroup;let e=t.indexOf(s)-1;e<0&&(e=0);const i=t[e];i.focus&&i.focus()}},e.registrerCheckGroup=function(t){const i=t.checkGroup;if(i){let s=e._checkGroupObject.groups[i];s||(s=e._checkGroupObject.groups[i]={}),s[t.uuid]=t,t.checked&&(e._checkGroupObject.values[i]=t.uuid)}},e.unRegistrerCheckGroup=function(t){if(t.checkGroup&&e._checkGroupObject.groups[t.checkGroup]){delete e._checkGroupObject.groups[t.checkGroup][t.uuid];let i=!1;for(const s in e._checkGroupObject.groups[t.checkGroup]){s&&(i=!0);break}i||delete e._checkGroupObject.groups[name],t.checked&&(e._checkGroupObject.values[name]=void 0)}},e.updateCheckGroupSelected=function(t){if(t.checkGroup){const i=e._checkGroupObject.groups[t.checkGroup];for(const e in i){const s=i[e];s!==t&&(s.checked=!1)}e._checkGroupObject.values[t.checkGroup]=t.uuid}},e.getCheckGroupSelectedValue=function(t){const i=e._checkGroupObject.values[t];if(i){return e._checkGroupObject.groups[t][i].value}},e.setCheckGroupSelectedValue=function(t,i){const s=e._checkGroupObject.groups[t];if(s){const t=s[i];t&&(t.checked=!0)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CHANGE="CHANGE",e.CHANGEING="CHANGEING",e.COMPLETE="COMPLETE",e.STATE_CHANGE="STATE_CHANGE",e.LOOP="LOOP",e.ADDED="ADDED",e.REMOVEED="REMOVEED"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._GroupObject=new Map,e.registrerGroup=function(t){if(t.groupName){let i=e._GroupObject.get(t.groupName);i||(i={},e._GroupObject.set(t.groupName,i)),i[t.uuid]=t}},e.unRegistrerGroup=function(t){if(t.groupName){const i=e._GroupObject.get(t.groupName);i&&delete i[t.uuid];let s=!1;for(const t in i){s=!0;break}s&&e._GroupObject.delete(t.groupName)}},e.getGroup=function(t){if(null!=t)return e._GroupObject.get(t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(17);e.add=s.add,e.get=s.get,e.getAll=s.getAll,e.isRunning=s.isRunning,e.FrameThrottle=s.FrameThrottle,e.ToggleLagSmoothing=s.ToggleLagSmoothing,e.Plugins=s.Plugins,e.remove=s.remove,e.removeAll=s.removeAll,e.removeDisplay=s.removeDisplay,e.update=s.update;const n=i(4);e.Easing=n.Easing;const o=i(18);e.Interpolation=o.Interpolation;const r=i(10);e.utils=r;const h=i(6);e.TweenEvent=h.TweenEvent;const a=i(11);e.Tween=a.Tween;const l=i(19);e.Timeline=l.Timeline},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.objectPoolShared=new class{constructor(){this.objPoolDict=new Map}push(t,e){if(void 0===e)return;let i=this.objPoolDict.get(t);void 0===i&&(i=[],this.objPoolDict.set(t,i)),-1===i.indexOf(e)&&(e.release(),i.push(e))}pop(t){const e=this.objPoolDict.get(t);return void 0!==e&&e.length>0?e.pop():new t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.CSSStyle=class{constructor(){this.eventEmitter=new PIXI.utils.EventEmitter,this.width=0,this.height=0,this.scaleX=1,this.scaleY=1,this.skewX=0,this.skewY=0,this.rotate=0,this.pivotX=0,this.pivotY=0,this.position="absolute",this.display="block",this.zIndex=-1,this.alpha=1,this.visible=!0,this.backgroundRepeat="no-repeat",this.color=16777200,this.wordWrap=!1,this.textAlign="left",this.fontSize=22,this.fontStyle="normal",this.fontVariant="normal",this.fontWeight="normal",this.strokeThickness=0,this.dropShadow=!1,this.dropShadowAlpha=!1,this.dropShadowAngle=0,this.dropShadowBlur=0,this.dropShadowColor=0,this.dropShadowDistance=5,this.breakWords=!0}get rotation(){return this.rotate}set rotation(t){this.rotate=t}get visibility(){return this.visible?"visible":"hidden"}set visibility(t){this.visible="hidden"!==t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(20),n=i(5);e.updateBlockLayout=function(t){if(null==t.parent)return;const e=t.style;let i=0,o=0,r=t.parent.width,h=t.parent.height;"fixed"===e.position&&(r=n.Stage.Ins.width,h=n.Stage.Ins.height);const a=s.formatRelative(e.hCenter,.5*r),l=s.formatRelative(e.vCenter,.5*h),u=s.formatRelative(e.left,r),d=s.formatRelative(e.right,r),c=s.formatRelative(e.top,h),p=s.formatRelative(e.bottom,h),_=s.formatRelative(e.width,r),m=s.formatRelative(e.height,h);let g=NaN,f=NaN;isNaN(u)||isNaN(d)?0!==_&&(g=_):g=r-d-u,isNaN(c)||isNaN(p)?0!=m&&(f=m):f=h-p-c;const v=s.getLayoutBoundsSize(t,g,f);let S=v.width,y=v.height,b=NaN,I=NaN;if(b=isNaN(a)?isNaN(u)?isNaN(d)?v.x:r-S-d:u:Math.round((r-S)/2+a),I=isNaN(l)?isNaN(c)?isNaN(p)?v.y:h-y-p:c:Math.round((h-y)/2+l),"fixed"===e.position){const e=t.container.toLocal(new PIXI.Point(I,I));I=e.x,I=e.y}t.pixelPerfect&&(S=Math.round(S),y=Math.round(y),b=Math.round(b),I=Math.round(I)),v.x=b,v.y=I,i=Math.max(i,b+S),o=Math.max(o,I+y),t.width=v.width,t.height=v.height,t.x=v.x,t.y=v.y}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(21),n=i(7),o=i(1),r=i(15),h=i(16),a=i(1),l=i(0),u=i(14);class d extends s.Container{constructor(){super(),this._dragScrolling=!0,this.softness=.5,this.radius=0,this.expandMask=0,this.animating=!1,this.scrollX=!1,this.scrollY=!1,this._innerContainer=new u.ContainerBase,this.innerBounds=new PIXI.Rectangle,this.dragEvent=new r.DragEvent(this),this.mouseScrollEvent=new h.MouseScrollEvent(this,!0),this.scrolling=!1,this._boundCached=a.now()-1e3,this._lastWidth=0,this._lastHeight=0,this._isInitScrolling=!1,this._containerStart=new PIXI.Point,this._targetPosition=new PIXI.Point,this._lastPosition=new PIXI.Point,this._Position=new PIXI.Point,this._Speed=new PIXI.Point,this._stop=!1,this._childrenStartIndex=0,this.container.addChild(this._innerContainer),this.container.name="ScrollingContainer",this._innerContainer.name="innerContainer";const t=new PIXI.Graphics;t.clear(),t.beginFill(16763904),t.drawRoundedRect(0,0,200,200,0),t.endFill(),this.style.maskImage=t,this.dragEvent.onDragStart=()=>{this.scrolling||(this._containerStart.copyFrom(this._innerContainer.position),this._Position.copyFrom(this._innerContainer.position),this.scrolling=!0,this.setScrollPosition(),n.shared.addUpdateEvent(this.updateScrollPosition,this))},this.dragEvent.onDragMove=(t,e)=>{this.scrollX&&(this._targetPosition.x=this._containerStart.x+e.x),this.scrollY&&(this._targetPosition.y=this._containerStart.y+e.y)},this.dragEvent.onDragEnd=()=>{this.scrolling&&(this.scrolling=!1,n.shared.removeUpdateEvent(this.updateScrollPosition,this))};const e=new PIXI.Point;this.mouseScrollEvent.onMouseScroll=(t,i)=>{e.set(.2*-i.x,.2*-i.y),this.setScrollPosition(e)}}get dragScrolling(){return this._dragScrolling}set dragScrolling(t){this._dragScrolling=t,t?(this.mouseScrollEvent.startEvent(),this.dragEvent.startEvent()):(this.mouseScrollEvent.stopEvent(),this.dragEvent.stopEvent())}update(t){if(super.update(t),this._lastWidth!=this._width||this._lastHeight!=this._height){const t=this.expandMask;this.style.maskPosition=[t,t],this.style.maskSize=[this._width,this._height],this._lastWidth=this._width,this._lastHeight=this._height,this.setScrollPosition()}}setScrollPosition(t){t&&(this._Speed=t),this.animating||(this.animating=!0,this._lastPosition.copyFrom(this._innerContainer.position),this._targetPosition.copyFrom(this._innerContainer.position),this.updateScrollPosition(0))}addChildAt(t,e){return t.parent&&t.parent.removeChild(t),t.parent=this,this._innerContainer.addChildAt(t.container,e),this.uiChildren.splice(e,0,t),this.updatesettings(!0,!0),this.getInnerBounds(!0),this.emit(l.ComponentEvent.ADDED,this),t}getInnerBounds(t){return(t||a.now()-this._boundCached>1e3)&&(this._innerContainer.getLocalBounds(this.innerBounds),this.innerBounds.height=this.innerBounds.y+this._innerContainer.height,this.innerBounds.width=this.innerBounds.x+this._innerContainer.width,this._boundCached=a.now()),this.innerBounds}initialize(){super.initialize(),this.initScrolling()}initScrolling(){this._isInitScrolling=!0,this.updateScrollBars()}updateScrollBars(){this.emit(l.ComponentEvent.CHANGE,this)}forcePctPosition(t,e){const i=this.getInnerBounds();this.scrollX&&"x"==t&&(this._innerContainer.position[t]=-(i.width-this._width)*e),this.scrollY&&"y"==t&&(this._innerContainer[t]=-(i.height-this._height)*e),this._Position[t]=this._targetPosition[t]=this._innerContainer.position[t]}focusPosition(t){const e=this.getInnerBounds();let i;if(this.scrollX){const s=Math.max(0,Math.min(e.width,t.x));s+this._innerContainer.x>this._width?(i=s-this._width,this._innerContainer.x=-i):s+this._innerContainer.x<0&&(i=s+this._innerContainer.x,this._innerContainer.x-=i)}if(this.scrollY){const s=Math.max(0,Math.min(e.height,t.y));s+this._innerContainer.y>this._height?(i=s-this._height,this._innerContainer.y=-i):s+this._innerContainer.y<0&&(i=s+this._innerContainer.y,this._innerContainer.y-=i)}this._lastPosition.copyFrom(this._innerContainer.position),this._targetPosition.copyFrom(this._innerContainer.position),this._Position.copyFrom(this._innerContainer.position),this.updateScrollBars()}updateScrollPosition(t){this._stop=!0,this.scrollX&&this.updateDirection("x",t),this.scrollY&&this.updateDirection("y",t),stop&&(this.animating=!1)}updateDirection(t,e){e*=.001;const i=this.getInnerBounds();let s;if(s="y"==t?Math.round(Math.min(0,this._height-i.height)):Math.round(Math.min(0,this._width-i.width)),this.scrolling||0===Math.round(this._Speed[t])||(this._targetPosition[t]+=this._Speed[t],this._Speed[t]=o.Lerp(this._Speed[t],0,(5+2.5/Math.max(this.softness,.01))*e),this._targetPosition[t]>0?this._targetPosition[t]=0:this._targetPosition[t]<s&&(this._targetPosition[t]=s)),!this.scrolling&&0===Math.round(this._Speed[t])&&(this._innerContainer[t]>0||this._innerContainer[t]<s)){const i=this._Position[t]>0?0:s;this._Position[t]=o.Lerp(this._Position[t],i,(40-30*this.softness)*e),this._stop=!1}else(this.scrolling||0!==Math.round(this._Speed[t]))&&(this.scrolling&&(this._Speed[t]=this._Position[t]-this._lastPosition[t],this._lastPosition.copyFrom(this._Position)),this._targetPosition[t]>0?(this._Speed[t]=0,this._Position[t]=100*this.softness*(1-Math.exp(this._targetPosition[t]/-200))):this._targetPosition[t]<s?(this._Speed[t]=0,this._Position[t]=s-100*this.softness*(1-Math.exp((s-this._targetPosition[t])/-200))):this._Position[t]=this._targetPosition[t],this._stop=!1);this._innerContainer.position[t]=Math.round(this._Position[t]),this.updateScrollBars()}}e.ScrollingContainer=d},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(37),n=i(1),o=i(12),r=i(8),h=i(3),a=i(0);class l extends o.InputBase{constructor(t=!1){super(),this._oldState="",this._resolution=1,this._previous={},this.placeholderColor=11119017,this._domVisible=!0,this.state="DEFAULT",this._placeholder="",this._maxLength=99999,this.img=new r.Image,this._inputStyle=Object.assign({position:"absolute",background:"none",border:"none",outline:"none",transformOrigin:"0 0",padding:"5px 8px",color:"#26272e",lineHeight:"1",fontSize:"25px"},{multiline:t}),this.htmlInputShared=new s.default(this._inputStyle.multiline),this.htmlInputShared.setStyle(this._inputStyle),this.htmlInputShared.on("input",this._onInputInput,this),this.htmlInputShared.on("focus",this._onFocused,this),this.htmlInputShared.on("blur",this._onBlurred,this),this.img.fillMode="scale",this.img.scale9Grid=[3,3,3,3],this.addChild(this.img),this._textHitbox=new PIXI.Graphics,this._textHitbox.name="_textHitbox",this._textHitbox.alpha=0,this._textHitbox.interactive=!0,this._textHitbox.cursor="text",this._textHitbox.on("pointerdown",this._ontextFocus,this),this.container.addChild(this._textHitbox),this._textMask=new PIXI.Graphics,this._textMask.name="_textMask",this.container.addChild(this._textMask),this._text=new PIXI.Text("",{}),this._text.name="_text",this._text.visible=!1,this.container.addChild(this._text),this._text.mask=this._textMask,this._domVisible=!1,this.container.interactiveChildren=!0,this.on(a.ComponentEvent.STATE_CHANGE,this.onStateChange,this)}get text(){return this._text.text}set text(t){this._text.text=t,h.addDrawList("update",this,this.updateSystem)}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,h.addDrawList("update",this,this.updateSystem)}get maxLength(){return this._maxLength}set maxLength(t){this._maxLength=t,h.addDrawList("update",this,this.updateSystem)}get restrict(){return this._restrict}set restrict(t){this._restrict=t,h.addDrawList("update",this,this.updateSystem)}update(t,e){if(void 0===e)return;const{htmlInputShared:i}=this;i.maxlength=this.maxLength,i.placeholder=this.placeholder,i.disabled=!this.enabled,i.restrict=this.restrict,this.setInputStyle("fontFamily",this.style.fontFamily),this.setInputStyle("fontSize",this.style.fontSize),this.setInputStyle("color",this.style.color),this.setInputStyle("width",this._width+"px"),this.setInputStyle("height",this._height+"px"),this.render(e),this.onStateChange(this,this.currentState)}focus(){this.htmlInputShared.focus()}blur(){this.htmlInputShared.blur()}setInputStyle(t,e){"fontSize"===t&&(e+="px"),"color"===t&&(e="#"+n.componentToHex(e)),this._inputStyle[t]=e,this.htmlInputShared.setStyleValue(t,e)}onStateChange(t,e){if(this._oldState==e)return;this.enabled||(this.currentState="disabled"),this._oldState=e,this.img.src=this[e]}updateSystem(){}_onInputInput(){this._updateSubstitution()}_onFocused(){this._setState("FOCUSED")}_onBlurred(){this._setState("DEFAULT")}_setState(t){this.state=t,this._updateSubstitution()}_updateSubstitution(){"FOCUSED"===this.state?(this._domVisible=!0,this._text.visible=!1):(this._domVisible=!1,this._text.visible=!0),this._updateDOMInput(),this._updatetext()}render(t){this._renderInternal(t)}_renderInternal(t){this._resolution=t.resolution,this._lastRenderer=t,this._canvasBounds=this._getCanvasBounds(),this._needsUpdate()&&this._updateSubstitution()}_updateDOMInput(){if(!this._canvasBounds)return;const t=this._canvasBounds,e=this._pixiMatrixToCSS(this._getDOMRelativeWorldTransform());this.htmlInputShared.updatePostion(t.top,t.left,e,this.container.worldAlpha),this.htmlInputShared.visible=this.container.worldVisible&&this._domVisible,this._previous.canvasBounds=this._canvasBounds,this._previous.worldTransform=this.container.worldTransform.clone(),this._previous.worldAlpha=this.container.worldAlpha,this._previous.worldVisible=this.container.worldVisible}_needsUpdate(){return!this._comparePixiMatrices(this.container.worldTransform,this._previous.worldTransform)||!this._compareClientRects(this._canvasBounds,this._previous.canvasBounds)||this.container.worldAlpha!=this._previous.worldAlpha||this.container.worldVisible!=this._previous.worldVisible}_updatetext(){const t=this._derivetextPadding(),e=this.htmlInputShared.getDOMInputBounds();this._text.style=this._derivetextStyle(),this._text.style.padding=Math.max(...t),this._text.y=this._inputStyle.multiline?t[0]:(e.height-this._text.height)/2,this._text.x=t[3],this._inputStyle.multiline&&(this._text.style.wordWrap=!0,this._text.style.wordWrapWidth=e.width,this._text.style.breakWords=!0),this._text.text=this._derivetextText(),this._textHitbox.clear(),this._textHitbox.beginFill(0),this._textHitbox.drawRect(0,0,e.width,e.height),this._textHitbox.endFill(),this._textHitbox.interactive=this.enabled,this._textMask.clear(),this._textMask.beginFill(0),this._textMask.drawRect(t[3],0,e.width-t[3]-t[1],e.height),this._textMask.endFill(),this.img.width=e.width,this.img.height=e.height}_ontextFocus(){this.htmlInputShared.visible=!0,setTimeout(this._ensureFocus.bind(this),10)}_ensureFocus(){this._hasFocus()||this.focus()}_derivetextStyle(){const t=new PIXI.TextStyle;for(const e in this._inputStyle)switch(e){case"color":t.fill=this._inputStyle.color;break;case"fontFamily":case"fontSize":case"fontWeight":case"fontVariant":case"fontStyle":t[e]=this._inputStyle[e];break;case"letterSpacing":t.letterSpacing=parseFloat(this._inputStyle.letterSpacing)}return this._inputStyle.multiline&&(t.lineHeight=parseFloat(t.fontSize),t.wordWrap=!0,t.wordWrapWidth=this.htmlInputShared.getDOMInputBounds().width),0===this.htmlInputShared.value.length&&(t.fill=this.placeholderColor),t}_derivetextPadding(){const t=this._inputStyle.textIndent?parseFloat(this._inputStyle.textIndent):0;if(this._inputStyle.padding&&this._inputStyle.padding.length>0){const e=this._inputStyle.padding.trim().split(" ");if(1==e.length){const i=parseFloat(e[0]);return[i,i,i,i+t]}if(2==e.length){const i=parseFloat(e[0]),s=parseFloat(e[1]);return[i,s,i,s+t]}if(4==e.length){const i=e.map(t=>parseFloat(t));return i[3]+=t,i}}return[0,0,0,t]}_derivetextText(){return 0===this.htmlInputShared.value.length?this.placeholder:this.htmlInputShared.value}_hasFocus(){return document.activeElement===this.htmlInputShared.domInput}_getCanvasBounds(){if(this._lastRenderer){const t=this._lastRenderer.view.getBoundingClientRect(),e={top:t.top,left:t.left,width:t.width,height:t.height};return e.left+=window.scrollX,e.top+=window.scrollY,e}}_getDOMRelativeWorldTransform(){if(this._lastRenderer){const t=this._lastRenderer.view.getBoundingClientRect(),e=this.container.worldTransform.clone();return e.scale(this._resolution,this._resolution),e.scale(t.width/this._lastRenderer.width,t.height/this._lastRenderer.height),e}}_pixiMatrixToCSS(t){return"matrix("+[t.a,t.b,t.c,t.d,t.tx,t.ty].join(",")+")"}_comparePixiMatrices(t,e){return!(!t||!e)&&(t.a==e.a&&t.b==e.b&&t.c==e.c&&t.d==e.d&&t.tx==e.tx&&t.ty==e.ty)}_compareClientRects(t,e){return!(!t||!e)&&(t.left==e.left&&t.top==e.top&&t.width==e.width&&t.height==e.height)}release(){super.release(),this.container.removeChild(this._text),this.container.removeChild(this._textHitbox),this.img.release(),this._text.destroy(),this._textHitbox&&this._textHitbox.destroy(),this.htmlInputShared.release(),this.offAll(a.ComponentEvent.STATE_CHANGE)}}e.TextInput=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class s extends PIXI.utils.EventEmitter{constructor(t){super(),this._selection=[0,0],this._restrict_value="",console.log("HtmlInput"),this._domInput=this.addDom(t),this.visible=!1,document.body.appendChild(this._domInput)}get domInput(){return this._domInput}set visible(t){this._domInput.style.display=t?"block":"none"}get visible(){return"block"===this._domInput.style.display}get value(){return this._domInput.value}set value(t){this._domInput.value=t}set placeholder(t){this._domInput.placeholder=t}set disabled(t){this._domInput.disabled=t}get maxlength(){return this._domInput.maxLength}set maxlength(t){this._domInput.maxLength=t}get restrict(){return this._restrictRegex}set restrict(t){if(void 0!==t){if(t instanceof RegExp){let e=t.toString().slice(1,-1);"^"!==e.charAt(0)&&(e="^"+e),"$"!==e.charAt(e.length-1)&&(e+="$"),t=new RegExp(e)}else t=new RegExp("^["+t+"]*$");this._restrictRegex=t}}setStyle(t){for(let e in t)this._domInput.style[e]=t[e]}setStyleValue(t,e){this._domInput.style[t]=e}select(){this._domInput.select()}getDOMInputBounds(){let t=this._domInput.style.transform,e=this._domInput.style.display;this._domInput.style.transform="",this._domInput.style.display="block";let i=this._domInput.getBoundingClientRect();return this._domInput.style.transform=t,this._domInput.style.display=e,i}updatePostion(t,e,i,s){this._domInput.style.top=t+"px",this._domInput.style.left=e+"px",this._domInput.style.transform=i,s&&(this._domInput.style.opacity=s.toString())}addDom(t){return t?(this._domInput=document.createElement("textarea"),this._domInput.style.resize="none"):(this._domInput=document.createElement("input"),this._domInput.type="text"),this.addEvent(),document.body.appendChild(this._domInput),this._domInput}removeDom(){this._domInput&&document.body.removeChild(this._domInput)}release(){this.removeDom(),this.removeEvent(),this.removeAllListeners()}addEvent(){this._onInputKeyDownBind||(this._onInputKeyDownBind=this._onInputKeyDown.bind(this),this._onInputInputBind=this._onInputInput.bind(this),this._onInputKeyUpBind=this._onInputKeyUp.bind(this),this._onFocusedBind=this._onFocused.bind(this),this._onBlurredBind=this._onBlurred.bind(this),this._domInput.addEventListener("keydown",this._onInputKeyDownBind,{passive:!1}),this._domInput.addEventListener("input",this._onInputInputBind,{passive:!1}),this._domInput.addEventListener("keyup",this._onInputKeyUpBind,{passive:!1}),this._domInput.addEventListener("focus",this._onFocusedBind,{passive:!1}),this._domInput.addEventListener("blur",this._onBlurredBind,{passive:!1}))}removeEvent(){this._onInputKeyDownBind&&(this._domInput.removeEventListener("keydown",this._onInputKeyDownBind),this._domInput.removeEventListener("input",this._onInputInputBind),this._domInput.removeEventListener("keyup",this._onInputKeyUpBind),this._domInput.removeEventListener("focus",this._onFocusedBind),this._domInput.removeEventListener("blur",this._onBlurredBind),this._onInputKeyDownBind=void 0,this._onInputInputBind=void 0,this._onInputKeyUpBind=void 0,this._onFocusedBind=void 0,this._onBlurredBind=void 0)}_applyRestriction(){this._restrictRegex&&(this._restrictRegex.test(this.value)?this._restrict_value=this.value:(this.value=this._restrict_value,this._domInput.setSelectionRange(this._selection[0],this._selection[1])))}_onInputKeyDown(t){this._selection=[this._domInput.selectionStart||0,this._domInput.selectionEnd||0],this.emit("keydown",this,t.keyCode)}_onInputInput(t){null!=t.data&&this._restrictRegex&&this._applyRestriction(),this.emit("input",this.value),t.preventDefault()}_onInputKeyUp(t){this.emit("keyup",this.value),t.preventDefault()}_onFocused(t){this.emit("focus"),t.preventDefault()}_onBlurred(t){this.emit("blur"),t.preventDefault()}focus(){document.body.removeChild(this._domInput),document.body.appendChild(this._domInput),this._domInput.focus()}blur(){this._domInput.blur()}}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(2),n=i(8),o=i(1),r=i(0),h=i(11),a=i(4),l=i(3);class u extends s.UIBase{constructor(){super(),this._amt=0,this._decimals=0,this._startValue=0,this._maxPosition=0,this._localMousePosition=new PIXI.Point,this._lastChange=0,this._lastChanging=0,this._thumbDrag=new r.DragEvent(this),this._trackDrag=new r.DragEvent(this),this.trackImg=new n.Image,this.thumbImg=new n.Image,this.tracklightImg=new n.Image,this._value=0,this._minValue=0,this._maxValue=100,this._vertical=!1,this._thumbDrag.onDragPress=this.onPress,this._thumbDrag.onDragStart=this.onDragStart,this._thumbDrag.onDragMove=this.onDragMove,this._thumbDrag.onDragEnd=this.onDragEnd,this._trackDrag.onDragPress=this.onPress,this._trackDrag.onDragStart=this.onDragStart,this._trackDrag.onDragMove=this.onDragMove,this._trackDrag.onDragEnd=this.onDragEnd,this.thumbImg.container.name="thumbImg",this.thumbImg.anchorX=.5,this.thumbImg.anchorY=.5,this.thumbImg.on(r.ComponentEvent.COMPLETE,this.onImgload,this),this.trackImg.container.name="trackImg",this.trackImg.fillMode="scale",this.trackImg.scale9Grid=[2,2,2,2],this.trackImg.style.width="100%",this.trackImg.style.height="100%",this.trackImg.on(r.ComponentEvent.COMPLETE,this.onImgload,this),this.tracklightImg.container.name="tracklightImg",this.tracklightImg.fillMode="scale",this.tracklightImg.scale9Grid=[2,2,2,2],this.addChild(this.trackImg),this.addChild(this.tracklightImg),this.addChild(this.thumbImg)}get value(){return o.Round(o.Lerp(this.minValue,this.maxValue,this._amt),this._decimals)}set value(t){this._value=t,l.addDrawList("valueSystem",this,this.valueSystem)}valueSystem(){this._amt=(Math.max(this.minValue,Math.min(this.maxValue,this._value))-this.minValue)/(this.maxValue-this.minValue),this.updatePosition(),this.triggerValueChange(),this.triggerValueChanging()}get minValue(){return this._minValue}set minValue(t){this._minValue=t}get maxValue(){return this._maxValue}set maxValue(t){this._maxValue=t}get vertical(){return this._vertical}set vertical(t){this._vertical=t,this.updateLayout()}get track(){return this._track}set track(t){t!==this._track&&(this._track=t,this.trackImg.src=t)}get thumb(){return this._thumb}set thumb(t){t!==this._thumb&&(this._thumb=t,this.thumbImg.src=t)}get tracklight(){return this._tracklight}set tracklight(t){t!==this._tracklight&&(this._tracklight=t,this.tracklightImg.src=t)}release(){super.release(),this.trackImg.release(),this.thumbImg.release(),this.tracklightImg.release()}onImgload(){this.updateLayout()}updateLayout(){const t=this.thumbImg,e=this.tracklightImg;this.vertical?(t.x=this._width>>1,e.width=this._width):(t.y=this._height>>1,e.height=this._height)}updatePosition(t){let e=0;const i=this.thumbImg,s=this.tracklightImg;this.vertical?(e=this._height*this._amt,t?(h.Tween.to(i,{y:e},300).easing(a.Easing.Linear.None).start(),h.Tween.to(s,{height:e},300).easing(a.Easing.Linear.None).start()):(i.y=e,s.height=e)):(e=this._width*this._amt,t?(h.Tween.to(i,{x:e},300).easing(a.Easing.Linear.None).start(),h.Tween.to(s,{width:e},300).easing(a.Easing.Linear.None).start()):(i.x=e,s.width=e))}onPress(t,e,i){t.stopPropagation(),this._trackDrag==i&&this._trackDrag.id==t.data.identifier&&e&&this.updatePositionToMouse(t.data.global,!0)}onDragStart(t){this._thumbDrag.id==t.data.identifier&&(this._startValue=this._amt,this._maxPosition=this.vertical?this._height:this._width)}onDragMove(t,e){this._thumbDrag.id==t.data.identifier?(this._amt=this._maxPosition?Math.max(0,Math.min(1,this._startValue+(this.vertical?e.y:e.x)/this._maxPosition)):0,this.triggerValueChanging(),this.updatePosition()):this._trackDrag&&this._trackDrag.id==t.data.identifier&&this.updatePositionToMouse(t.data.global,!1)}onDragEnd(t){this._thumbDrag.id==t.data.identifier?(this.triggerValueChange(),this.updatePosition()):this._trackDrag&&this._trackDrag.id==t.data.identifier&&this.triggerValueChange()}updatePositionToMouse(t,e){this.trackImg.container.toLocal(t,void 0,this._localMousePosition,!0);const i=this.vertical?this._localMousePosition.y:this._localMousePosition.x,s=this.vertical?this._height:this._width;this._amt=s?Math.max(0,Math.min(1,i/s)):0,this.updatePosition(e),this.triggerValueChanging()}triggerValueChange(){const t=this.value;this.emit(r.ComponentEvent.CHANGE,this,t,this._lastChange),this._lastChange!=t&&(this._lastChange=t)}triggerValueChanging(){const t=this.value;this.emit(r.ComponentEvent.CHANGEING,this,t,this._lastChanging),this._lastChanging!=t&&(this._lastChanging=t)}}e.Slider=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(0),n=i(24);class o extends n.Button{constructor(){super(),this._value="",this._checked=!1}get selectedValue(){if(this.checkGroup)return s.InputController.getCheckGroupSelectedValue(this.checkGroup)}get checkGroup(){return this._groupName}set checkGroup(t){void 0===t&&s.InputController.unRegistrerCheckGroup(this),this._groupName!=t&&(this._groupName=t,s.InputController.registrerCheckGroup(this))}get value(){return this._value}set value(t){t!==this._value&&(this._value=t)}get checked(){return this._checked}set checked(t){t!==this._checked&&(this.checkGroup&&s.InputController.updateCheckGroupSelected(this),this._oldState="",this._selectedStr=t?"AndSelected":"",this._checked=t,this.emit(s.ComponentEvent.CHANGE,this),this.onStateChange(this,this.currentState))}onClick(){super.onClick(),this.checkGroup&&this.checked||(this.checked=!this.checked)}onLabelChange(t){t.style.left=this.width,t.style.top=this.height-t.height>>1}}e.CheckBox=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(2),n=i(3);class o extends s.UIBase{constructor(){super(),this._radius=0,this._lineColor=0,this._lineWidth=0,this._color=0,this.graphics=new PIXI.Graphics,this.container.addChild(this.graphics)}get radius(){return this._radius}set radius(t){this._radius=t,n.addDrawList("draw",this,this.drawRoundedRectSystem)}get lineColor(){return this._lineColor}set lineColor(t){this._lineColor=t,n.addDrawList("draw",this,this.drawRoundedRectSystem)}get lineWidth(){return this._lineWidth}set lineWidth(t){this._lineWidth=t,n.addDrawList("draw",this,this.drawRoundedRectSystem)}get color(){return this._color}set color(t){this._color=t,n.addDrawList("draw",this,this.drawRoundedRectSystem)}get anchorX(){return this._anchorX}set anchorX(t){this._anchorX=t,n.addDrawList("draw",this,this.drawRoundedRectSystem)}get anchorY(){return this._anchorY}set anchorY(t){this._anchorY=t,n.addDrawList("draw",this,this.drawRoundedRectSystem)}update(){this.graphics.width=this.width,this.graphics.width=this.height}release(){super.release(),this.graphics.parent.removeChild(this.graphics).destroy()}drawRoundedRectSystem(t,e){t.graphics.clear(),t.graphics.lineStyle(t.lineWidth,t.lineColor),t.graphics.beginFill(t.color),t.graphics.drawRoundedRect(t.anchorX?-t.anchorX*this._width:0,t.anchorY?-t.anchorY*this._height:0,this._width,this._height,t.radius),t.graphics.endFill()}}e.Rect=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(2);class n extends s.UIBase{constructor(t){super(),this.graphics=new PIXI.Graphics(t),this.container.addChild(this.graphics)}}e.Graphics=n},function(t,e,i){"use strict";var s=this&&this.__awaiter||function(t,e,i,s){return new(i||(i=Promise))((function(n,o){function r(t){try{a(s.next(t))}catch(t){o(t)}}function h(t){try{a(s.throw(t))}catch(t){o(t)}}function a(t){t.done?n(t.value):new i((function(e){e(t.value)})).then(r,h)}a((s=s.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const n=i(1),o=i(22),r=i(0),h=i(12);e.$sounds=new Map;class a extends h.InputBase{constructor(){super(),this.spriteAnimated=new o.SpriteAnimated,this.autoPlay=!1,this._speed=1,this._volume=100,this._loop=!1,this._curProgress=0,this._playing=!1;const t=this.spriteAnimated;t.loop=!0,this.addChild(t)}get sheetSkin(){return this._sheetSkin}set sheetSkin(t){this._sheetSkin=t,this.spriteAnimated.src=t}get duration(){return this._sound?this._sound.duration:0}get src(){return this._src}set src(t){if(t!==this.src&&(this.releaseSound(),this._src=t,t)){const e=this._sound=n.getSound(t);e.loop=this.loop,e.volume=this.volume,e.speed=this.speed,this.autoPlay?this.play():this.stop()}}get speed(){return this._speed}set speed(t){this._speed=t,this._sound&&(this._sound.speed=t)}get volume(){return this._volume}set volume(t){this._volume=t,this._sound&&(this._sound.volume=t)}get loop(){return this._loop}set loop(t){this._loop=t,this._sound&&(this._sound.loop=t)}get isPlaying(){return!!this._sound&&this._sound.isPlaying}play(t=0,e){return s(this,void 0,void 0,(function*(){if(this._sound&&this._sound.isPlaying)return;const i=r.GroupController.getGroup(this.groupName);if(i)for(const t in i)i[t]instanceof a&&i[t].stop();if(this._mediaInstance&&(this._mediaInstance.off("progress",this.onProgress,this),this._mediaInstance.off("end",this.onEnd,this)),this._sound){const i=this._mediaInstance=yield this._sound.play({start:t,end:e});i.on("progress",this.onProgress,this),i.on("end",this.onEnd,this)}this._playing=!0,this._sheetSkin&&(this.spriteAnimated.animationName="play",this.spriteAnimated.play())}))}stop(){this._sound&&this._sound.stop(),this._playing=!1,this._sheetSkin&&(this.spriteAnimated.animationName="stop",this.spriteAnimated.stop())}resume(){this.play(this._curProgress)}pause(){this._mediaInstance&&this._sound&&(this._curProgress=this._mediaInstance.progress*this._sound.duration),this.stop()}update(t){this.container.hitArea=new PIXI.Rectangle(0,0,this._width,this._height)}release(){super.release(),this.releaseSound(),this.offAll(),this.spriteAnimated.release()}releaseSound(){this._mediaInstance&&(this._mediaInstance.off("progress",this.onProgress,this),this._mediaInstance.off("end",this.onEnd,this)),this._sound&&(this.removeAllListeners(),this._sound.stop(),this._sound.destroy(),this._sound=void 0)}onProgress(t,e){this._curProgress=t*e,this.listenerCount(r.ComponentEvent.CHANGEING)>0&&this.emit(r.ComponentEvent.CHANGEING,this,this._curProgress)}onEnd(){this.loop?this.emit(r.ComponentEvent.LOOP,this):this.emit(r.ComponentEvent.COMPLETE,this)}onClick(){this.isPlaying?this.stop():this.play()}}e.Sound=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}]);