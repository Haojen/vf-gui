!function(t){var i={};function e(s){if(i[s])return i[s].exports;var n=i[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,e),n.l=!0,n.exports}e.m=t,e.c=i,e.d=function(t,i,s){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:s})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var n in t)e.d(s,n,function(i){return t[i]}.bind(null,n));return s},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=1)}([function(t,i){},function(t,i,e){"use strict";e.r(i);var s={};e.r(s),e.d(s,"log",function(){return d}),e.d(s,"setRectangle",function(){return c}),e.d(s,"now",function(){return l}),e.d(s,"deepCopy",function(){return g}),e.d(s,"hexToInt",function(){return _}),e.d(s,"hexToRgba",function(){return p}),e.d(s,"componentToHex",function(){return m}),e.d(s,"rgbToHex",function(){return f}),e.d(s,"rgbToNumber",function(){return v}),e.d(s,"rgbStrToNumber",function(){return b}),e.d(s,"numberToRgb",function(){return y}),e.d(s,"hexToRgb",function(){return x}),e.d(s,"Lerp",function(){return w}),e.d(s,"Round",function(){return S}),e.d(s,"uid",function(){return I}),e.d(s,"getQueryVariable",function(){return P});var n={};e.r(n),e.d(n,"_items",function(){return D}),e.d(n,"add",function(){return T}),e.d(n,"getItem",function(){return k}),e.d(n,"getEventItem",function(){return E});var h={};e.r(h),e.d(h,"FRAME_MS",function(){return et}),e.d(h,"TOO_LONG_FRAME_MS",function(){return st}),e.d(h,"CHAINED_TWEENS",function(){return nt}),e.d(h,"STRING_PROP",function(){return ht}),e.d(h,"NUM_REGEX",function(){return rt}),e.d(h,"decomposeString",function(){return dt}),e.d(h,"decompose",function(){return ct}),e.d(h,"RGB",function(){return lt}),e.d(h,"RGBA",function(){return gt}),e.d(h,"isRGBColor",function(){return _t}),e.d(h,"recompose",function(){return pt}),e.d(h,"SET_NESTED",function(){return bt});var r={};e.r(r),e.d(r,"Plugins",function(){return V}),e.d(r,"get",function(){return $}),e.d(r,"getAll",function(){return Y}),e.d(r,"removeAll",function(){return K}),e.d(r,"remove",function(){return Q}),e.d(r,"removeDisplay",function(){return q}),e.d(r,"add",function(){return U}),e.d(r,"update",function(){return Z}),e.d(r,"isRunning",function(){return J}),e.d(r,"FrameThrottle",function(){return N}),e.d(r,"ToggleLagSmoothing",function(){return G}),e.d(r,"Tween",function(){return St}),e.d(r,"Easing",function(){return it}),e.d(r,"Interpolation",function(){return xt}),e.d(r,"utils",function(){return h});var o={};e.r(o),e.d(o,"tabGroups",function(){return Ht}),e.d(o,"_checkGroupObject",function(){return Wt}),e.d(o,"registrer",function(){return Xt}),e.d(o,"blur",function(){return Ot}),e.d(o,"set",function(){return Ft}),e.d(o,"clear",function(){return zt}),e.d(o,"fireTab",function(){return Vt}),e.d(o,"fireNext",function(){return Ut}),e.d(o,"firePrev",function(){return Nt}),e.d(o,"registrerCheckGroup",function(){return Gt}),e.d(o,"unRegistrerCheckGroup",function(){return Yt}),e.d(o,"updateCheckGroupSelected",function(){return Kt}),e.d(o,"getCheckGroupSelectedValue",function(){return $t}),e.d(o,"setCheckGroupSelectedValue",function(){return qt});var a={};e.r(a),e.d(a,"ClickEvent",function(){return Zt}),e.d(a,"DragDropController",function(){return n}),e.d(a,"DragEvent",function(){return C}),e.d(a,"InputController",function(){return o}),e.d(a,"MouseScrollEvent",function(){return Pt}),e.d(a,"InteractionEvent",function(){return ei});var u={};function d(t,...i){console.log(t,...i)}function c(t,i,e,s,n){t.x=i,t.y=e,t.width=s,t.height=n}function l(){if(void 0!==performance&&void 0!==performance.now)return performance.now.bind(performance)();{const t=performance&&performance.timing&&performance.timing.navigationStart?performance.timing.navigationStart:Date.now();return Date.now()-t}}function g(t){if(void 0===t||"object"!=typeof t)return t;if(Array.isArray(t))return[].concat(t);if("object"==typeof t){const i={};for(const e in t)i[e]=g(t[e]);return i}return t}function _(t,i){if("number"==typeof t)return t;const e=parseInt(t.replace("#","0x"));return isNaN(e)?i:e}function p(t,i){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return!!e&&"rgba("+parseInt(e[1],16)+","+parseInt(e[2],16)+","+parseInt(e[3],16)+","+i+")"}function m(t){const i=t.toString(16);return 1==i.length?"0"+i:i}function f(t,i,e){return"#"+m(t)+m(i)+m(e)}function v(t,i,e){return 65536*t+256*i+e}function b(t){const i=t.substring(4,t.length-1).split(",");return v(parseInt(i[0]),parseInt(i[1]),parseInt(i[2]))}function y(t){return{r:Math.floor(t/65536),g:Math.floor(t/256)%256,b:t%256}}function x(t){if(void 0===t&&(t=16777215),"number"==typeof t)return y(t);t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,i,e,s){return i+i+e+e+s+s});const i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:{r:255,g:255,b:255}}function w(t,i,e){return e>1?e=1:e<0&&(e=0),t+(i-t)*e}function S(t,i){const e=Math.pow(10,i);return Math.round(t*e)/e}function I(){return PIXI.utils.uid().toString()}function P(t){const i=new URLSearchParams(location.search);if(i.has(t))return i.get(t)}e.r(u),e.d(u,"Utils",function(){return s}),e.d(u,"Stage",function(){return A}),e.d(u,"Container",function(){return H}),e.d(u,"ScrollingContainer",function(){return Mt}),e.d(u,"SortableList",function(){return Ct}),e.d(u,"Sprite",function(){return B}),e.d(u,"TilingSprite",function(){return Dt}),e.d(u,"SliceSprite",function(){return Tt}),e.d(u,"Slider",function(){return kt}),e.d(u,"ScrollBar",function(){return Et}),e.d(u,"Text",function(){return Lt}),e.d(u,"TextStyle",function(){return Rt}),e.d(u,"TextInput",function(){return Bt}),e.d(u,"Button",function(){return ti}),e.d(u,"CheckBox",function(){return ii}),e.d(u,"Rect",function(){return j}),e.d(u,"Interaction",function(){return a}),e.d(u,"UIBase",function(){return R}),e.d(u,"TickerShared",function(){return It}),e.d(u,"AlignEnum",function(){return si}),e.d(u,"tween",function(){return r});class M{constructor(){this.width=0,this.height=0,this.minHeight=0,this.minWidth=0,this.pivotX=0,this.pivotY=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.draggable=!1,this.dragRestricted=!1,this.dragThreshold=0}}class C{constructor(t){this.id=0,this.offset=new PIXI.Point,this.movementX=0,this.movementY=0,this.bound=!1,this.start=new PIXI.Point,this.mouse=new PIXI.Point,this.cancel=!1,this.dragging=!1,this.obj=t,t.container.interactive=!0,this.startEvent()}startEvent(){this.obj.container.on("mousedown",this._onDragStart,this),this.obj.container.on("touchstart",this._onDragStart,this)}_onDragStart(t){this.id=t.data.identifier,this.onDragPress&&this.onDragPress.call(this.obj,t,!0,this),!this.bound&&this.obj.stage&&(this.start.copyFrom(t.data.global),this.obj.stage.on("mousemove",this._onDragMove,this),this.obj.stage.on("touchmove",this._onDragMove,this),this.obj.stage.on("mouseup",this._onDragEnd,this),this.obj.stage.on("mouseupoutside",this._onDragEnd,this),this.obj.stage.on("touchend",this._onDragEnd,this),this.obj.stage.on("touchendoutside",this._onDragEnd,this),this.obj.stage.on("touchcancel",this._onDragEnd,this),this.bound=!0),t.data.originalEvent.preventDefault()}_onDragMove(t){if(t.data.identifier===this.id){if(this.mouse.copyFrom(t.data.global),this.offset.set(this.mouse.x-this.start.x,this.mouse.y-this.start.y),!this.dragging){if(this.movementX=Math.abs(this.offset.x),this.movementY=Math.abs(this.offset.y),0===this.movementX&&0===this.movementY||Math.max(this.movementX,this.movementY)<this.obj.dragThreshold)return;if(void 0!==this.obj.dragRestrictAxis&&(this.cancel=!1,"x"==this.obj.dragRestrictAxis&&this.movementY>this.movementX?this.cancel=!0:"y"==this.obj.dragRestrictAxis&&this.movementY<=this.movementX&&(this.cancel=!0),this.cancel))return void this._onDragEnd(t);this.onDragStart&&this.onDragStart.call(this.obj,t,this),this.dragging=!0}this.onDragMove&&this.onDragMove.call(this.obj,t,this.offset,this)}}_onDragEnd(t){t.data.identifier===this.id&&this.bound&&this.obj.stage&&(this.obj.stage.removeListener("mousemove",this._onDragMove,this),this.obj.stage.removeListener("touchmove",this._onDragMove,this),this.obj.stage.removeListener("mouseup",this._onDragEnd,this),this.obj.stage.removeListener("mouseupoutside",this._onDragEnd,this),this.obj.stage.removeListener("touchend",this._onDragEnd,this),this.obj.stage.removeListener("touchendoutside",this._onDragEnd,this),this.obj.stage.removeListener("touchcancel",this._onDragEnd,this),this.dragging=!1,this.bound=!1,this.onDragEnd&&this.onDragEnd.call(this.obj,t,this),this.onDragPress&&this.onDragPress.call(this.obj,t,!1,this))}stopEvent(){this.bound&&this.obj.stage&&(this.obj.stage.removeListener("mousemove",this._onDragMove,this),this.obj.stage.removeListener("touchmove",this._onDragMove,this),this.obj.stage.removeListener("mouseup",this._onDragEnd,this),this.obj.stage.removeListener("mouseupoutside",this._onDragEnd,this),this.obj.stage.removeListener("touchend",this._onDragEnd,this),this.obj.stage.removeListener("touchendoutside",this._onDragEnd,this),this.bound=!1),this.obj.container.removeListener("mousedown",this._onDragStart,this),this.obj.container.removeListener("touchstart",this._onDragStart,this)}remove(){this.stopEvent(),this.onDragPress=void 0,this.onDragEnd=void 0,this.onDragMove=void 0,this.onDragStart=void 0,this.obj.container.interactive=!1}}const D=[];function T(t,i){return t.dragDropEventId=i.data.identifier,-1===D.indexOf(t)&&(D.push(t),!0)}function k(t){let i;for(let e=0;e<D.length;e++)if(D[e]===t){i=e;break}return void 0!==i&&(D.splice(i,1),t)}function E(t,i){let e,s=null;const n=t.data.identifier;for(let t=0;t<D.length;t++)if(D[t].dragDropEventId===n){if(i!==D[t].dragGroup)return!1;s=D[t],e=t;break}return void 0!==e&&(D.splice(e,1),s)}class L extends PIXI.Container{constructor(){super(),this.isEmitRender=!1}render(t){super.render(t),this.isEmitRender&&this.emit("render",t)}}class R extends PIXI.utils.EventEmitter{constructor(t,i){super(),this.name="",this.children=[],this.initialized=!1,this.dragInitialized=!1,this.dropInitialized=!1,this.dirty=!0,this._width=0,this._height=0,this._parentWidth=0,this._parentHeight=0,this.attach={},this._oldWidth=-1,this._oldHeight=-1,this.pixelPerfect=!0,this.dragging=!1,this.dalayDrawTimeId=-1,this.uuid=I(),this.container=new L,this.setting=new M,t&&i&&this.setDefaultSize(t,i)}setDefaultSize(t,i){const e=this.getPetValue(t);void 0!==e.num?this.setting.width=e.num:this.setting.widthPct=e.pct;const s=this.getPetValue(i);void 0!==s.num?this.setting.height=s.num:this.setting.heightPct=s.pct}getPetValue(t){let i,e;return"number"==typeof t?i=t||0:"string"==typeof t&&""!=t?-1!==t.indexOf("%")?e=.01*parseFloat(t.replace("%",""))||void 0:i=parseInt(t):e=void 0,i&&(i=Math.max(i,0)),e&&(e=Math.max(e,0)),{num:i,pct:e}}set x(t){this.left=t}get x(){return this.setting.left}set y(t){this.top=t}get y(){return this.setting.top}set widthPet(t){const i=this.getPetValue(t);void 0!==i.num?this.setting.width=i.num:this.setting.widthPct=i.pct,this.updatesettings(!0)}set width(t){t=Math.max(t,0),this.setting.width=t,this.setting.widthPct=void 0,this.updatesettings(!0)}get width(){return this.setting.width}get actualWidth(){return this.dirty&&(this.setting.widthPct&&this.parent?this._width=this.parent._width*this.setting.widthPct:this._width=this.setting.width),this._width}set heightPct(t){const i=this.getPetValue(t);void 0!==i.num?this.setting.height=i.num:this.setting.heightPct=i.pct,this.updatesettings(!0)}set height(t){t=Math.max(t,0),this.setting.height=t,this.setting.heightPct=void 0,this.updatesettings(!0)}get height(){return this.setting.height}get actualHeight(){return this.dirty&&(this.setting.heightPct&&this.parent?this._height=this.parent._height*this.setting.heightPct:this._height=this.setting.height),this._height}set minWidthPct(t){const i=this.getPetValue(t);void 0!==i.num?this.setting.minWidth=i.num:this.setting.minWidthPct=i.pct,this.updatesettings(!0)}set minWidth(t){this.setting.minWidth=t,this.updatesettings(!0)}get minWidth(){return this.setting.minWidth}get actualMinWidth(){return this.dirty&&(this.setting.minWidthPct&&this.parent?this._minWidth=this.parent._width*this.setting.minWidthPct:this._minWidth=this.setting.minWidth),this._minWidth}set minHeightPct(t){const i=this.getPetValue(t);void 0!==i.num?this.setting.minHeight=i.num:this.setting.minHeightPct=i.pct,this.updatesettings(!0)}set minHeight(t){this.setting.minHeight=t,this.updatesettings(!0)}get minHeight(){return this.setting.minHeight}get actualMinHeight(){return this.dirty&&(this.setting.minHeightPct&&this.parent?this._minHeight=this.parent._height*this.setting.minHeightPct:this._minHeight=this.setting.minHeight),this._minHeight}set maxWidthPct(t){const i=this.getPetValue(t);void 0!==i.num?this.setting.maxWidth=i.num:this.setting.maxWidthPct=i.pct,this.updatesettings(!0)}set maxWidth(t){this.setting.maxWidth=t,this.updatesettings(!0)}get maxWidth(){return this.setting.maxWidth}get actualMaxWidth(){return this.dirty&&(this.setting.maxWidthPct&&this.parent?this._maxWidth=this.parent._width*this.setting.maxWidthPct:this._maxWidth=this.setting.maxWidth),this._maxWidth}set maxHeightPct(t){const i=this.getPetValue(t);void 0!==i.num?this.setting.maxHeight=i.num:this.setting.maxHeightPct=i.pct,this.updatesettings(!0)}set maxHeight(t){this.setting.maxHeight=t,this.updatesettings(!0)}get maxHeight(){return this.setting.maxHeight}get actualMaxHeight(){return this.dirty&&(this.setting.maxHeightPct&&this.parent?this._maxHeight=this.parent._height*this.setting.maxHeightPct:this._maxHeight=this.setting.maxHeight),this._maxHeight}set anchorLeftPct(t){const i=this.getPetValue(t);void 0!==i.num?this.setting.anchorLeft=i.num:this.setting.anchorLeftPct=i.pct,this.updatesettings(!0)}set anchorLeft(t){this.setting.anchorLeft=t,this.updatesettings(!0)}get anchorLeft(){return this.setting.anchorLeft}get actualAnchorLeft(){return this.dirty&&(this.setting.anchorLeftPct&&this.parent?this._anchorLeft=this.parent._width*this.setting.anchorLeftPct:this._anchorLeft=this.setting.anchorLeft),this._anchorLeft}set anchorRightPct(t){const i=this.getPetValue(t);void 0!==i.num?this.setting.anchorRight=i.num:this.setting.anchorRightPct=i.pct,this.updatesettings(!0)}set anchorRight(t){this.setting.anchorRight=t,this.updatesettings(!0)}get anchorRight(){return this.setting.anchorRight}get actualAnchorRight(){return this.dirty&&(this.setting.anchorRightPct&&this.parent?this._anchorRight=this.parent._width*this.setting.anchorRightPct:this._anchorRight=this.setting.anchorRight),this._anchorRight}set anchorTopPct(t){const i=this.getPetValue(t);void 0!==i.num?this.setting.anchorTop=i.num:this.setting.anchorTopPct=i.pct,this.updatesettings(!0)}set anchorTop(t){this.setting.anchorTop=t,this.updatesettings(!0)}get anchorTop(){return this.setting.anchorTop}get actualAnchorTop(){return this.dirty&&(this.setting.anchorTopPct&&this.parent?this._anchorTop=this.parent._height*this.setting.anchorTopPct:this._anchorTop=this.setting.anchorTop),this._anchorTop}set anchorBottomPct(t){const i=this.getPetValue(t);void 0!==i.num?this.setting.anchorBottom=i.num:this.setting.anchorBottomPct=i.pct,this.updatesettings(!0)}set anchorBottom(t){this.setting.anchorBottom=t,this.updatesettings(!0)}get anchorBottom(){return this.setting.anchorBottom}get actualAnchorBottom(){return this.dirty&&(this.setting.anchorBottomPct&&this.parent?this._anchorBottom=this.parent._height*this.setting.anchorBottomPct:this._anchorBottom=this.setting.anchorBottom),this._anchorBottom}set leftPct(t){const i=this.getPetValue(t);void 0!==i.num?this.setting.left=i.num:this.setting.leftPct=i.pct,this.updatesettings(!0)}set left(t){this.setting.left=t,this.updatesettings(!0)}get left(){return this.setting.left}get actualLeft(){return this.dirty&&(this.setting.leftPct&&this.parent?this._left=this.parent._width*this.setting.leftPct:this._left=this.setting.left),this._left}set rightPct(t){const i=this.getPetValue(t);void 0!==i.num?this.setting.right=i.num:this.setting.rightPct=i.pct,this.updatesettings(!0)}set right(t){this.setting.right=t,this.updatesettings(!0)}get right(){return this.setting.right}get actualRight(){return this.dirty&&(this.setting.rightPct&&this.parent?this._right=this.parent.width*this.setting.rightPct:this._right=this.setting.right),this._right}set topPct(t){const i=this.getPetValue(t);void 0!==i.num?this.setting.top=i.num:this.setting.topPct=i.pct,this.updatesettings(!0)}set top(t){this.setting.top=t,this.updatesettings(!0)}get top(){return this.setting.top}get actualTop(){return this.dirty&&(this.setting.topPct&&this.parent?this._top=this.parent._height*this.setting.topPct:this._top=this.setting.top),this._top}set bottomPct(t){const i=this.getPetValue(t);void 0!==i.num?this.setting.bottom=i.num:this.setting.bottomPct=i.pct,this.updatesettings(!0)}set bootom(t){this.setting.bottom=t,this.updatesettings(!0)}get bottom(){return this.setting.bottom}get actualBottom(){return this.dirty&&(this.setting.bottomPct&&this.parent?this._bottom=this.parent.height*this.setting.bottomPct:this._bottom=this.setting.bottom),this._bottom}set verticalAlign(t){this.setting.verticalAlign=t,this.baseupdate()}get verticalAlign(){return this.setting.verticalAlign}set valign(t){this.setting.verticalAlign=t,this.baseupdate()}get valign(){return this.setting.verticalAlign}set horizontalAlign(t){this.setting.horizontalAlign=t,this.baseupdate()}get horizontalAlign(){return this.setting.horizontalAlign}set align(t){this.setting.horizontalAlign=t,this.baseupdate()}get align(){return this.setting.horizontalAlign}set tint(t){this.setting.tint=t,this.update()}get tint(){return this.setting.tint||NaN}set alpha(t){this.setting.alpha=t,this.container.alpha=t}get alpha(){return this.setting.alpha}set rotation(t){this.setting.rotation=t,this.container.rotation=t}get rotation(){return this.setting.rotation||0}set angle(t){this.setting.angle=t,this.container.angle=t}get angle(){return this.setting.angle||0}set blendMode(t){this.setting.blendMode=t,this.update()}get blendMode(){return this.setting.blendMode||NaN}set pivotX(t){this.setting.pivotX=t,this.baseupdate(),this.update()}get pivotX(){return this.setting.pivotX}set pivotY(t){this.setting.pivotY=t,this.baseupdate(),this.update()}get pivotY(){return this.setting.pivotY}set pivot(t){this.setting.pivotX=t,this.setting.pivotY=t,this.baseupdate(),this.update()}set scaleX(t){this.setting.scaleX=t,this.container.scale.x=t,this.baseupdate()}get scaleX(){return this.setting.scaleX}set scaleY(t){this.setting.scaleY=t,this.container.scale.y=t}get scaleY(){return this.setting.scaleY}set scale(t){this.setting.scaleX=t,this.setting.scaleY=t,this.container.scale.x=t,this.container.scale.y=t}get scale(){return this.setting.scaleX}set draggable(t){this.setting.draggable=t,this.initialized&&(t?this.initDraggable():this.clearDraggable())}get draggable(){return this.setting.draggable}set dragRestricted(t){this.setting.dragRestricted=t}get dragRestricted(){return this.setting.dragRestricted}set dragRestrictAxis(t){this.setting.dragRestrictAxis=t}get dragRestrictAxis(){return this.setting.dragRestrictAxis}set dragThreshold(t){this.setting.dragThreshold=t}get dragThreshold(){return this.setting.dragThreshold}set dragGroup(t){this.setting.dragGroup=t}get dragGroup(){return this.setting.dragGroup}set dragContainer(t){this.setting.dragContainer=t}get dragContainer(){return this.setting.dragContainer}set droppable(t){this.setting.droppable=!0,this.initialized&&(t?this.initDroppable():this.clearDroppable())}get droppable(){return this.setting.droppable}set droppableReparent(t){this.setting.droppableReparent=t}get droppableReparent(){return this.setting.droppableReparent}set dropGroup(t){this.setting.dropGroup=t}get dropGroup(){return this.setting.dropGroup}set renderable(t){this.container.renderable=t}get renderable(){return this.container.renderable}set visible(t){this.container.visible=t}get visible(){return this.container.visible}set cacheAsBitmap(t){this.container.cacheAsBitmap=t}get cacheAsBitmap(){return this.container.cacheAsBitmap}set interactive(t){this.container.interactive=t}get interactive(){return this.container.interactive}set interactiveChildren(t){this.container.interactiveChildren=t}get interactiveChildren(){return this.container.interactiveChildren}updatesettings(t,i){if(!this.initialized){if(null==this.parent)return;null!==this.parent.stage&&this.parent.initialized&&this.initialize()}i&&this.updateParent(),this.baseupdate(),this.update(),t&&this.updateChildren()}set dalayDraw(t){t||(window.clearTimeout(this.dalayDrawTimeId),this.dalayDrawTimeId=-1),-1===this.dalayDrawTimeId&&(this.dalayDrawTimeId=window.setTimeout(()=>{this.update(),this.dalayDrawTimeId=-1},30))}update(){}release(){}baseupdate(){if(!this.parent)return;let t,i;this.dirty=!0,this._width=this.actualWidth,this._height=this.actualHeight,this._minWidth=this.actualMinWidth,this._minHeight=this.actualMinHeight,this._maxWidth=this.actualMaxWidth,this._maxHeight=this.actualMaxHeight,this._anchorLeft=this.actualAnchorLeft,this._anchorRight=this.actualAnchorRight,this._anchorTop=this.actualAnchorTop,this._anchorBottom=this.actualAnchorBottom,this._left=this.actualLeft,this._right=this.actualRight,this._top=this.actualTop,this._bottom=this.actualBottom,this._parentWidth=i=this.parent._width,this._parentHeight=t=this.parent._height,this.dirty=!1;let e=this.pivotX*this._width,s=this.pivotY*this._height;if(this.pixelPerfect&&(e=Math.round(e),s=Math.round(s)),void 0===this.horizontalAlign){void 0!==this._anchorLeft&&void 0===this._anchorRight&&void 0!==this._right?this._anchorRight=this._right:void 0===this._anchorLeft&&void 0!==this._anchorRight&&void 0!==this._left?this._anchorLeft=this._left:void 0===this._anchorLeft&&void 0===this._anchorRight&&void 0!==this._left&&void 0!==this._right&&(this._anchorLeft=this._left,this._anchorRight=this._right);const t=void 0!==this._anchorLeft||void 0!==this._anchorRight;!t&&(void 0!==this._left||void 0!==this._right)?void 0!==this._left?this.container.position.x=this._left:void 0!==this._right&&(this.container.position.x=i-this._right):t?(void 0!==this._anchorLeft&&void 0===this._anchorRight?this.container.position.x=this._anchorLeft:void 0===this._anchorLeft&&void 0!==this._anchorRight?this.container.position.x=i-this._width-this._anchorRight:void 0!==this._anchorLeft&&void 0!==this._anchorRight&&(this.container.position.x=this._anchorLeft,this._width=i-this._anchorLeft-this._anchorRight),this.container.position.x+=e):this.container.position.x=0}if(void 0===this.verticalAlign){void 0!==this._anchorTop&&void 0===this._anchorBottom&&void 0!==this._bottom&&(this._anchorBottom=this._bottom),void 0===this._anchorTop&&void 0!==this._anchorBottom&&void 0!==this._top&&(this._anchorTop=this._top);const i=void 0!==this._anchorTop||void 0!==this._anchorBottom;!i&&(void 0!==this._top||void 0!==this._bottom)?void 0!==this._top?this.container.position.y=this._top:void 0!==this._bottom&&(this.container.position.y=t-this._bottom):i?(void 0!==this._anchorTop&&void 0===this._anchorBottom?this.container.position.y=this._anchorTop:void 0===this._anchorTop&&void 0!==this._anchorBottom?this.container.position.y=t-this._height-this._anchorBottom:void 0!==this._anchorTop&&void 0!==this._anchorBottom&&(this.container.position.y=this._anchorTop,this._height=t-this._anchorTop-this._anchorBottom),this.container.position.y+=s):this.container.position.y=0}void 0!==this._maxWidth&&this._width>this._maxWidth&&(this._width=this._maxWidth),void 0!==this._minWidth&&this._width<this._minWidth&&(this._width=this._minWidth),void 0!==this._maxHeight&&this._height>this._maxHeight&&(this._height=this._maxHeight),void 0!==this._minHeight&&this._height<this._minHeight&&(this._height=this._minHeight),void 0!==this.horizontalAlign&&(2==this.horizontalAlign?this.container.position.x=.5*i-.5*this._width:1==this.horizontalAlign?this.container.position.x=i-this._width:this.container.position.x=0,this.container.position.x+=e),void 0!==this.verticalAlign&&(2==this.verticalAlign?this.container.position.y=.5*t-.5*this._height:3==this.verticalAlign?this.container.position.y=t-this._height:this.container.position.y=0,this.container.position.y+=s),this.dragging&&!this.setting.dragRestricted&&this._dragPosition&&(this.container.position.x=this._dragPosition.x,this.container.position.y=this._dragPosition.y),this.container.scale.x=this.setting.scaleX,this.container.scale.y=this.setting.scaleY,this.container.pivot.x=e,this.container.pivot.y=s,this.container.alpha=this.setting.alpha,void 0!==this.setting.rotation&&(this.container.rotation=this.setting.rotation),this.pixelPerfect&&(this._width=Math.round(this._width),this._height=Math.round(this._height),this.container.position.x=Math.round(this.container.position.x),this.container.position.y=Math.round(this.container.position.y))}updateParent(){this.parent&&this.parent.updatesettings&&this.parent.updatesettings(!1,!0)}updateChildren(){for(let t=0;t<this.children.length;t++)this.children[t].updatesettings(!0)}addChild(t){const i=t;return i.parent&&i.parent.removeChild(i),i.parent=this,this.container.addChild(i.container),this.children.push(i),this.updatesettings(!0,!0),t}addChildAt(t,i){return t.parent&&t.parent.removeChild(t),t.parent=this,this.container.addChildAt(t.container,i),this.children.splice(i,0,t),this.updatesettings(!0,!0),t}removeChild(t){const i=t,e=this.children.indexOf(i);if(-1!==e){const t=i.parent;i.container.parent.removeChild(i.container),this.children.splice(e,1),i.parent=void 0,setTimeout(()=>{t&&t.updatesettings&&t.updatesettings(!0,!0)},0)}}initialize(){this.initialized=!0,this.stage=this.parent&&this.parent.stage,this.draggable&&this.initDraggable(),this.droppable&&this.initDroppable()}clearDraggable(){this.dragInitialized&&(this.dragInitialized=!1,this.drag&&this.drag.stopEvent())}initDraggable(){if(!this.dragInitialized){this.dragInitialized=!0;const t=new PIXI.Point,i=new PIXI.Point;this._dragPosition=new PIXI.Point,this.drag=new C(this),this.drag.onDragStart=e=>{const s=T(this,e);if(!this.dragging&&s){if(this.dragging=!0,this.container.interactive=!1,t.copyFrom(this.container.position),this.dragContainer){let t;this.dragContainer instanceof R?t=this.dragContainer.container:this.dragContainer instanceof PIXI.Container&&(t=this.dragContainer),t&&this.parent&&(i.set(t.worldTransform.tx-this.parent.container.worldTransform.tx,t.worldTransform.ty-this.parent.container.worldTransform.ty),t.addChild(this.container))}else i.set(0);this.emit("onDragStart",e)}},this.drag.onDragMove=(e,s)=>{this.dragging&&this._dragPosition&&(this._dragPosition.set(t.x+s.x-i.x,t.y+s.y-i.y),this.x=this._dragPosition.x,this.y=this._dragPosition.y,this.emit("onDragMove",e))},this.drag.onDragEnd=t=>{this.dragging&&(this.dragging=!1,setTimeout(()=>{if(this.container.interactive=!0,k(this)&&this.parent){let t;(t=this.parent instanceof A?this.stage:this.parent.container)&&t.toLocal(this.container.position,this.container.parent),t!=this.container&&this.parent.addChild(this)}this.emit("onDragEnd",t)},0))}}}clearDroppable(){this.dropInitialized&&(this.dropInitialized=!1,this.container.removeListener("mouseup",this.onDrop,this),this.container.removeListener("touchend",this.onDrop,this))}initDroppable(){if(!this.dropInitialized){this.dropInitialized=!0;const t=this.container;this.container.interactive=!0,t.on("mouseup",this.onDrop,this),t.on("touchend",this.onDrop,this)}}onDrop(t){const i=E(t,this.dropGroup);if(i&&i.dragging){i.dragging=!1,i.container.interactive=!0;const t=void 0!==this.droppableReparent?this.droppableReparent:this;t&&(t.container.toLocal(i.container.position,i.container.parent),t.container!=i.container.parent&&t.addChild(i))}}}class A extends PIXI.Container{constructor(t,i){super(),this.minWidth=0,this.minHeight=0,this.UIChildren=[],this.interactive=!0,this.hitArea=new PIXI.Rectangle(0,0,0,0),this.initialized=!0,this._width=0,this._height=0,this.container=new PIXI.Container,this._width=t,this._height=i,this.stage=this,this.hitArea=new PIXI.Rectangle(0,0,0,0),this.resize(t,i)}get width(){return this._width}set width(t){isNaN(t)||(this._width=t,this.resize())}get height(){return this._height}set height(t){isNaN(t)||(this._height=t,this.resize())}addChild(...t){const i=t.length;if(i>1)for(let e=0;e<i;e++)this.addChild(t[e]);else{if(!(t[0]instanceof R))throw"stage addChild arg not vfui";{const i=t[0];i.parent&&i.parent.removeChild(i),i.parent=this,this.UIChildren.push(i),super.addChild(i.container),i.updatesettings(!0)}}return t[0]}addChildAt(t,i){if(!(t instanceof R))throw"stage addChildAt arg not vfui";return t.parent&&t.parent.removeChild(t),t.parent=this,super.addChildAt(t.container,i),this.UIChildren.splice(i,0,t),t.updatesettings(!0),t}removeChild(...t){const i=t.length;if(i>1)for(let e=0;e<i;e++)this.removeChild(t[e]);else{if(!(t[0]instanceof R))throw"stage removeChild arg not vfui";const i=t[0],e=this.UIChildren.indexOf(i);-1!==e&&(super.removeChild(i.container),this.UIChildren.splice(e,1),i.parent=void 0)}return t[0]}resize(t,i){if(t&&!isNaN(t)&&(this._width=t),i&&!isNaN(i)&&(this._height=i),this.minWidth||this.minHeight){let e=1,s=1;t&&t<this.minWidth&&(e=this.minWidth/t),i&&i<this.minHeight&&(s=this.minHeight/i),e>s&&e>1?(this.scale.set(1/e),this._height*=e,this._width*=e):s>1?(this.scale.set(1/s),this._width*=s,this._height*=s):1!==this.scale.x&&this.scale.set(1)}this.hitArea.width=this._width,this.hitArea.height=this._height;for(let t=0;t<this.UIChildren.length;t++)this.UIChildren[t].updatesettings(!0,!1)}updatesettings(){}}class B extends R{constructor(t){super(),this._anchorX=0,this._anchorY=0,this._source=t,this._sprite=new PIXI.Sprite(t),this.container.addChild(this._sprite)}get img(){return this._sprite}get source(){return this._source}set source(t){void 0!==t&&t!==this._source&&(this._source=t,t instanceof PIXI.Texture?(this._sprite.texture=t,this.correctionWidthAndHeight(),this.updatesettings(!0),this.emit(B.SourceCompleteEvent,t.frame,this)):(this._sprite.texture=PIXI.Texture.from(t),this._sprite.texture.width>1&&this._sprite.texture.height>1?(this.correctionWidthAndHeight(),this.updatesettings(!0),this.emit(B.SourceCompleteEvent,this._sprite.texture.frame,this)):this._sprite.texture.once("update",()=>{this.correctionWidthAndHeight(),this.updatesettings(!0),this.emit(B.SourceCompleteEvent,this._sprite.texture.frame,this)},this)))}correctionWidthAndHeight(){0==this.setting.width&&(this.setting.width=this._sprite.texture.width),0==this.setting.height&&(this.setting.height=this._sprite.texture.height)}get anchorX(){return this._anchorX}set anchorX(t){this._anchorX=t,this._sprite.anchor.x=t}get anchorY(){return this._anchorY}set anchorY(t){this._anchorY=t,this._sprite.anchor.y=t}update(){isNaN(this.tint)||(this._sprite.tint=this.tint),isNaN(this.blendMode)||(this._sprite.blendMode=this.blendMode),this._sprite.width=this._width,this._sprite.height=this._height}}B.SourceCompleteEvent="sourceCompleteEvent";class j extends R{constructor(){super(),this._graphicsDirty=!1,this._radius=0,this._fill=16777215,this._rx=0,this._ry=0,this._graphics=new PIXI.Graphics,this.container.addChild(this._graphics)}drawUpdate(){if(this._graphicsDirty){this._graphics.clear();const t=this._graphics;t.lineStyle(this._lineWidth,this._lineColor),t.beginFill(this._fill),t.drawRoundedRect(this.rx,this.ry,this.width,this.height,this.radius),t.endFill(),this._graphicsDirty=!1}}drawRoundedRect(t,i,e,s,n,h){this._radius=n,this._rx=t,this._ry=i,this.setDefaultSize(e,s),h&&(this._fill=h),this._graphicsDirty=!0,this.updatesettings(!0)}get graphics(){return this._graphics}get radius(){return this._radius}set radius(t){this._radius=t,this._graphicsDirty=!0,this.dalayDraw=!0}get fill(){return this._fill}set fill(t){this._fill=t,this._graphicsDirty=!0,this.dalayDraw=!0}get lineWidth(){return this._lineWidth}set lineWidth(t){this._lineWidth=t,this._graphicsDirty=!0,this.dalayDraw=!0}get lineColor(){return this._lineColor}set lineColor(t){this._lineColor=t,this._graphicsDirty=!0,this.dalayDraw=!0}get rx(){return this._rx}set rx(t){this._rx=t,this._graphicsDirty=!0,this.dalayDraw=!0}get ry(){return this._ry}set ry(t){this._ry=t,this._graphicsDirty=!0,this.dalayDraw=!0}set tint(t){this._graphics.tint=t,this.setting.tint=t}get tint(){return this.setting.tint||NaN}update(){this.drawUpdate()}}class H extends R{constructor(t,i){super(t,i)}update(){}set mask(t){t!==this.mask&&(this.container.mask=void 0===t?null:t instanceof B?t.img:t instanceof j?t.graphics:t,this._mask=t)}get mask(){return this._mask}}const W=[];let X=!1,O=0,F=120,z=!0;const V={};function U(t){let i=W.indexOf(t);i>-1&&W.splice(i,1),W.push(t),O=0,X=!0}function N(t=120){F=1.05*t}function G(t=!0){z=t}function Y(){return W}function K(){W.length=0,X=!1}function $(t){for(let i=0;i<W.length;i++)if(t===W[i])return W[i];return null}function q(t){for(let i=0;i<W.length;i++)if(console.log(W[i].object.uuid),W[i].object.uuid&&t===W[i].object.uuid)return W[i].stop(),void Q(W[i])}function Q(t){const i=W.indexOf(t);-1!==i&&W.splice(i,1),0===W.length&&(X=!1)}function Z(t,i=!1){if(!X)return!1;if(O>=F&&z)return console.log("mptyFrame >= powerModeThrottle && handleLag"),X=!1,O=0,!1;W.length||O++;let e=0,s=W.length;for(;e<s;)W[e++].update(t,i),s>W.length&&e--,s=W.length;return!0}function J(){return X}const tt={Linear:{None:t=>t},Quadratic:{In:t=>Math.pow(t,2),Out:t=>t*(2-t),InOut:t=>(t*=2)<1?.5*Math.pow(t,2):-.5*(--t*(t-2)-1)},Cubic:{In:t=>Math.pow(t,3),Out:t=>--t*t*t+1,InOut:t=>(t*=2)<1?.5*Math.pow(t,3):.5*((t-=2)*t*t+2)},Quartic:{In:t=>Math.pow(t,4),Out:t=>1- --t*t*t*t,InOut:t=>(t*=2)<1?.5*Math.pow(t,4):-.5*((t-=2)*t*t*t-2)},Quintic:{In:t=>Math.pow(t,5),Out:t=>--t*t*t*t*t+1,InOut:t=>(t*=2)<1?.5*Math.pow(t,5):.5*((t-=2)*t*t*t*t+2)},Sinusoidal:{In:t=>1-Math.cos(t*Math.PI/2),Out:t=>Math.sin(t*Math.PI/2),InOut:t=>.5*(1-Math.cos(Math.PI*t))},Exponential:{In:t=>0===t?0:Math.pow(1024,t-1),Out:t=>1===t?1:1-Math.pow(2,-10*t),InOut:t=>0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},Circular:{In:t=>1-Math.sqrt(1-t*t),Out:t=>Math.sqrt(1- --t*t),InOut:t=>(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},Elastic:{In:t=>0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI),Out:t=>0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1,InOut:t=>0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1},Back:{In(t){const i=1.70158;return t*t*((i+1)*t-i)},Out(t){const i=1.70158;return--t*t*((i+1)*t+i)+1},InOut(t){const i=2.5949095;return(t*=2)<1?t*t*((i+1)*t-i)*.5:.5*((t-=2)*t*((i+1)*t+i)+2)}},Bounce:{In:t=>1-tt.Bounce.Out(1-t),Out(t){let i=2.75,e=7.5625;return t<1/i?e*t*t:t<2/i?e*(t-=1.5/i)*t+.75:t<2.5/i?e*(t-=2.25/i)*t+.9375:e*(t-=2.625/i)*t+.984375},InOut:t=>t<.5?.5*tt.Bounce.In(2*t):.5*tt.Bounce.Out(2*t-1)+.5},Stepped:{steps:t=>i=>(i*t|0)/t}};var it=tt;const et=50/3,st=250,nt="_chainedTweens",ht="STRING_PROP",rt=/\s+|([A-Za-z?().,{}:""[\]#%]+)|([-+]=+)?([-+]+)?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]=?\d+)?/g,ot=t=>isNaN(+t)||("+"===t[0]||"-"===t[0])&&"="===t[1]||""===t||" "===t,at=/^#([0-9a-f]{6}|[0-9a-f]{3})$/gi,ut=(t,...i)=>{let e=x(t);return"rgb("+e.r+", "+e.g+", "+e.b+")"};function dt(t){if(t&&t.splice&&t.isString)return t;if("string"!=typeof t)return t;if("="===t.charAt(1))return t;const i=t.replace(at,ut).match(rt);let e;return i&&(e=i.map(t=>ot(t)?t:+t)),e.isString=!0,e}function ct(t,i,e,s){const n=e[t],h=s[t];if(n===h)return!0;if(Array.isArray(n)&&Array.isArray(h)&&n.length===h.length)for(let e=0,s=h.length;e<s;e++){const s=n[e],r=h[e];s===r||"number"==typeof s&&"number"==typeof r||ct(e,i[t],n,h)}if("number"==typeof n&&"number"==typeof h);else if(n&&n.splice&&n.isString&&h&&h.splice&&h.isString);else{if("string"==typeof n&&Array.isArray(h)){const i=dt(n),r=h.map(dt);return e[t]=i,s[t]=r,!0}if("string"==typeof n||"string"==typeof h){let i=Array.isArray(n)&&n[0]===ht?n:dt(n),r=Array.isArray(h)&&h[0]===ht?h:dt(h);if(void 0===i)return;let o=1;for(;o<i.length;)i[o]===r[o]&&"string"==typeof i[o-1]?(i.splice(o-1,2,i[o-1]+i[o]),r.splice(o-1,2,r[o-1]+r[o])):o++;return o=0,i[0]===ht&&i.shift(),r[0]===ht&&r.shift(),e[t]=i,s[t]=r,!0}if("object"==typeof n&&"object"==typeof h){if(Array.isArray(n)&&!n.isString)return n.map((e,s)=>ct(s,i[t],n,h));for(let e in h)ct(e,i[t],n,h);return!0}}return!1}const lt="rgb(",gt="rgba(";function _t(t,i,e=lt){return"number"==typeof t[i]&&(t[i-1]===e||t[i-3]===e||t[i-5]===e)}function pt(t,i,e,s,n,h,r){const o=r?e:e[t];let a=r?s:s[t];if(void 0===a)return o;if(void 0===o||"string"==typeof o||o===a)return a;if("object"==typeof o&&"object"==typeof a){if(!o||!a)return i[t];if("object"==typeof o&&o&&o.isString&&a&&a.splice&&a.isString){let e="";for(let t=0,i=o.length;t<i;t++)if(o[t]!==a[t]||"number"!=typeof o[t]||"number"==typeof a[t]){const i="number"==typeof o[t]&&"string"==typeof a[t]&&"="===a[t][1];let s="number"!=typeof o[t]?o[t]:i?o[t]+parseFloat(a[t][0]+a[t].substr(2))*n:o[t]+(a[t]-o[t])*n;(_t(o,t)||_t(o,t,gt))&&(s|=0),e+=s,i&&1===h&&(o[t]=o[t]+parseFloat(a[t][0]+a[t].substr(2)))}else e+=o[t];return r||(i[t]=e),e}if(Array.isArray(o)&&o[0]!==ht)for(let e=0,s=o.length;e<s;e++)o[e]!==a[e]&&"string"!=typeof i[t]&&pt(e,i[t],o,a,n,h);else if("object"==typeof o&&o&&!o.isString)for(let e in o)o[e]!==a[e]&&pt(e,i[t],o,a,n,h)}else if("number"==typeof o){const s="string"==typeof a;i[t]=s?o+parseFloat(a[0]+a.substr(2))*n:o+(a-o)*n,s&&1===h&&(e[t]=i[t])}else"function"==typeof a&&(i[t]=a(n));return i[t]}const mt=/([.[])/g,ft=/\]/g,vt=function(t,i){const e=t[i],s=i.replace(ft,"").split(mt),n=s.length-1;let h=Array.isArray(t),r="object"==typeof t&&!h;return r?(t[i]=null,delete t[i]):h&&t.splice(i,1),s.reduce((t,i,o)=>{h&&"."!==i&&"["!==i&&(i*=1);let a="["===s[o+1];if("."===i||"["===i)return"."===i?(r=!0,h=!1):"["===i&&(r=!1,h=!0),t;if(void 0===t[i]){if(h||r)return t[i]=o===n?e:h||a?[]:r?{}:null,r=h=!1,t[i]}else if(void 0!==t[i])return o===n&&(t[i]=e),t[i];return t},t)},bt=function(t){if("object"==typeof t&&t)for(let i in t)if(-1!==i.indexOf(".")||-1!==i.indexOf("["))vt(t,i);else if("object"==typeof t[i]&&t[i]){let e=t[i];for(let t in e)if(-1!==t.indexOf(".")||-1!==t.indexOf("["))vt(e,t);else if("object"==typeof e[t]&&e[t]){let i=e[t];for(let t in i)-1===t.indexOf(".")&&-1===t.indexOf("[")||vt(i,t)}}return t},yt={Linear(t,i,e){const s=t.length-1,n=s*i,h=Math.floor(n),r=yt.Utils.Linear;return i<0?r(t[0],t[1],n,e):i>1?r(t[s],t[s-1],s-n,e):r(t[h],t[h+1>s?s:h+1],n-h,e)},Bezier(t,i,e){let s=yt.Utils.Reset(e),n=t.length-1,h=Math.pow,r=yt.Utils.Bernstein,o=Array.isArray(s);for(let e=0;e<=n;e++)if("number"==typeof s)s+=h(1-i,n-e)*h(i,e)*t[e]*r(n,e);else if(o)for(let o=0,a=s.length;o<a;o++)"number"==typeof s[o]?s[o]+=h(1-i,n-e)*h(i,e)*t[e][o]*r(n,e):s[o]=t[e][o];else if("object"==typeof s)for(let o in s)"number"==typeof s[o]?s[o]+=h(1-i,n-e)*h(i,e)*t[e][o]*r(n,e):s[o]=t[e][o];else if("string"==typeof s){let e="",s=t[Math.round(n*i)];for(let t=1,i=s.length;t<i;t++)e+=s[t];return e}return s},CatmullRom(t,i,e){const s=t.length-1;let n=s*i,h=Math.floor(n);const r=yt.Utils.CatmullRom;return t[0]===t[s]?(i<0&&(h=Math.floor(n=s*(1+i))),r(t[(h-1+s)%s],t[h],t[(h+1)%s],t[(h+2)%s],n-h,e)):i<0?r(t[1],t[1],t[0],t[0],-i,e):i>1?r(t[s-1],t[s-1],t[s],t[s],(0|i)-i,e):r(t[h?h-1:0],t[h],t[s<h+1?s:h+1],t[s<h+2?s:h+2],n-h,e)},Utils:{Linear(t,i,e,s){if(t===i||"string"==typeof t){if(i.length&&i.splice&&i.isString){i="";for(let e=0,s=t.length;e<s;e++)i+=t[e]}return i}if("number"==typeof t)return"function"==typeof t?t(e):t+(i-t)*e;if("object"==typeof t){if(void 0!==t.length){const n="string"==typeof t[0]||t.isString;if(n||t[0]===ht){let s="";for(let h=n?0:1,r=t.length;h<r;h++){let n=0===e?t[h]:1===e?i[h]:"number"==typeof t[h]?t[h]+(i[h]-t[h])*e:i[h];(e>0&&e<1&&_t(t,h)||_t(t,h,gt))&&(n|=0),s+=n}return s}if(s&&s.length&&s.splice)for(let n=0,h=s.length;n<h;n++)s[n]=yt.Utils.Linear(t[n],i[n],e,s[n])}else for(const n in s)s[n]=yt.Utils.Linear(t[n],i[n],e,s[n]);return s}},Reset(t){if(Array.isArray(t)){for(let i=0,e=t.length;i<e;i++)t[i]=yt.Utils.Reset(t[i]);return t}if("object"==typeof t){for(let i in t)t[i]=yt.Utils.Reset(t[i]);return t}return"number"==typeof t?0:t},Bernstein(t,i){const e=yt.Utils.Factorial;return e(t)/e(i)/e(t-i)},Factorial:function(){const t=[1];return i=>{let e=1;if(t[i])return t[i];for(let t=i;t>1;t--)e*=t;return t[i]=e,e}}(),CatmullRom(t,i,e,s,n,h){if("string"==typeof t)return i;if("number"==typeof t){const h=.5*(e-t),r=.5*(s-i),o=n*n;return(2*i-2*e+h+r)*(n*o)+(-3*i+3*e-2*h-r)*o+h*n+i}if("object"==typeof t){if(void 0!==t.length){if(t[0]===ht){let h="";for(let r=1,o=t.length;r<o;r++){let o="number"==typeof t[r]?yt.Utils.CatmullRom(t[r],i[r],e[r],s[r],n):s[r];(_t(t,r)||_t(t,r,gt))&&(o|=0),h+=o}return h}for(let r=0,o=h.length;r<o;r++)h[r]=yt.Utils.CatmullRom(t[r],i[r],e[r],s[r],n,h[r])}else for(const r in h)h[r]=yt.Utils.CatmullRom(t[r],i[r],e[r],s[r],n,h[r]);return h}}}};var xt=yt;const wt=it.Linear.None;class St extends PIXI.utils.EventEmitter{constructor(t){return super(),this._valuesEnd=null,this._duration=1e3,this._easingFunction=wt,this._easingReverse=wt,this._startTime=0,this._initTime=0,this._delayTime=0,this._repeat=0,this._r=0,this._isPlaying=!1,this._yoyo=!1,this._reversed=!1,this._onStartCallbackFired=!1,this._pausedTime=0,this._isFinite=!0,this._chainedTweensCount=0,this._prevTime=0,this._rendered=!1,this._reverseDelayTime=0,this.id=I(),this.object=t,this._valuesStart=Array.isArray(t)?[]:{},this._interpolationFunction=xt.Linear,this}static fromTo(t,i,e){return new St(t).to(i,e)}static to(t,i,e){return St.fromTo(t,i,e)}static from(t,i,e){return St.fromTo(t,i,e)}isPlaying(){return this._isPlaying}isStarted(){return this._onStartCallbackFired}get startTime(){return this._startTime}set startTime(t){this._startTime=t}set duration(t){this._duration="function"==typeof t?t(this._duration):t}get duration(){return this._duration}reverse(t){const{_reversed:i}=this;return this._reversed=void 0!==t?t:!i,this}reversed(){return this._reversed}pause(){return this._isPlaying?(this._isPlaying=!1,Q(this),this._pausedTime=l(),this.emit("pause",this.object)):this}play(){return this._isPlaying?this:(this._isPlaying=!0,this._startTime+=l()-this._pausedTime,this._initTime=this._startTime,U(this),this._pausedTime=l(),this.emit("play",this.object))}restart(t){return this._repeat=this._r,this.reassignValues(),U(this),this.emit("restart",this.object)}seek(t,i){const{_duration:e,_initTime:s,_startTime:n,_reversed:h}=this;let r=s+t;return this._isPlaying=!0,r<n&&n>=s&&(this._startTime-=e,this._reversed=!h),this.update(t,!1),i?this:this.pause()}to(t,i=1e3){return this._valuesEnd=t,"function"==typeof i?this.duration=this._duration:this._duration=i,this}render(){if(this._rendered)return this;let{_valuesStart:t,_valuesEnd:i,object:e}=this;if(bt(e),bt(i),!t.processed){for(const s in i){let n=e&&e[s]&&g(e[s]),h=i[s];if(!(V[s]&&V[s].init&&(V[s].init.call(this,n,h,s,e),void 0===n&&t[s]&&(n=t[s]),V[s].skipProcess))&&!("number"==typeof n&&isNaN(n)||null===n||null===h||!1===n||!1===h||void 0===n||void 0===h||n===h)){if(t[s]=n,Array.isArray(h))if(Array.isArray(n))h.isString&&e[s].isString&&!n.isString?n.isString=!0:ct(s,e,t,i);else{h.unshift(n);for(let t=0,i=h.length;t<i;t++)"string"==typeof h[t]&&(h[t]=dt(h[t]))}else ct(s,e,t,i);"number"!=typeof n||"string"!=typeof h||h[1]}}t.processed=!0}return this._rendered=!0,this}start(t){return this._startTime=void 0!==t?"string"==typeof t?l()+parseFloat(t):t:l(),this._startTime+=this._delayTime,this._initTime=this._prevTime=this._startTime,this._onStartCallbackFired=!1,this._rendered=!1,this._isPlaying=!0,U(this),this}stop(){let{_isPlaying:t,_isFinite:i,object:e,_startTime:s,_duration:n,_r:h,_yoyo:r,_reversed:o}=this;if(!t)return this;let a=i?(h+1)%2==1:!o;return this._reversed=!1,r&&a?this.update(s):this.update(s+n),Q(this),this.emit("stop",e)}delay(t){return this._delayTime="function"==typeof t?t(this._delayTime):t,this}chainedTweens(...t){if(this._chainedTweensCount=t.length,!this._chainedTweensCount)return this;for(let i=0,e=this._chainedTweensCount;i<e;i++)this[nt+i]=t[i];return this}repeat(t){return this._repeat=this._duration?"function"==typeof t?t(this._repeat):t:0,this._r=this._repeat,this._isFinite=isFinite(t),this}reverseDelay(t){return this._reverseDelayTime="function"==typeof t?t(this._reverseDelayTime):t,this}yoyo(t,i){return this._yoyo="function"==typeof t?t(this._yoyo):null===t?this._yoyo:t,t||(this._reversed=!1),this._easingReverse=i||this._easingFunction,this}easing(t){return this._easingFunction=t,this}interpolation(t){return"function"==typeof t&&(this._interpolationFunction=t),this}reassignValues(t){const{_valuesStart:i,object:e,_delayTime:s}=this;this._isPlaying=!0,this._startTime=void 0!==t?t:l(),this._startTime+=s,this._reversed=!1,U(this);for(const t in i){const s=i[t];e[t]=s}return this}update(t,i,e){let s,n,h,{_onStartCallbackFired:r,_easingFunction:o,_interpolationFunction:a,_easingReverse:u,_repeat:d,_delayTime:c,_reverseDelayTime:g,_yoyo:_,_reversed:p,_startTime:m,_prevTime:f,_duration:v,_valuesStart:b,_valuesEnd:y,object:x,_isFinite:w,_isPlaying:S,_chainedTweensCount:I}=this,P=0;if(t=void 0!==t?t:l(),v){let i=t-f;if(this._prevTime=t,i>st&&J()&&z&&(t-=i-et),!S||t<m&&!e)return!0;s=(s=(t-m)/v)>1?1:s,s=p?1-s:s}else s=1,d=0;if(r||(this._rendered||(this.render(),this._rendered=!0),this.emit("start",x),this._onStartCallbackFired=!0),n=p&&u||o,!x)return!0;for(h in y){const t=b[h];if(!(null!=t||V[h]&&V[h].update))continue;const i=y[h],e=n[h]?n[h](s):"function"==typeof n?n(s):wt(s),r=a[h]?a[h]:"function"==typeof a?a:xt.Linear;"number"==typeof i?x[h]=t+(i-t)*e:!Array.isArray(i)||i.isString||Array.isArray(t)?i&&i.update?i.update(e):"function"==typeof i?x[h]=i(e):"string"==typeof i&&"number"==typeof t?x[h]=t+parseFloat(i[0]+i.substr(2))*e:pt(h,x,b,y,e,s):x[h]=r(i,e,x[h]),V[h]&&V[h].update&&V[h].update.call(this,x[h],t,i,e,s,h),P++}if(!P)return Q(this),!1;if(this.emit("update",x,s,t),1===s||p&&0===s){if(d>0&&v>0){if(w&&this._repeat--,_)this._reversed=!p;else for(h in y){let t=y[h];"string"==typeof t&&"number"==typeof b[h]&&(b[h]+=parseFloat(t[0]+t.substr(2)))}return this.emit(_&&!p?"reverse":"repeat",x),this._startTime=p&&g?t-g:t+c,!0}if(i||(this._isPlaying=!1,Q(this)),this.emit("complete",x),this._repeat=this._r,I)for(let i=0;i<I;i++)this[nt+i].start(t+v);return!1}return!0}}const It=new class extends PIXI.utils.EventEmitter{constructor(t){super(),this._lastnow=0,this._disabled=!0,this._lastnow=l(),t&&(this.disabled=!1)}get disabled(){return this._disabled}set disabled(t){t!=this._disabled&&(this._disabled=t,this._disabled||this.update(l()-this._lastnow))}update(t){if(this._disabled)return;const i=l();Z(i),this.emit("update",i-this._lastnow,t),this._lastnow=i}addUpdateEvent(t,i){return this.on("update",t,i)}removeUpdateEvent(t,i){return this.removeListener("update",t,i)}}(!0);class Pt{constructor(t,i){this.id="",this.delta=new PIXI.Point,this.obj=t,this.preventDefault=i,t.container.interactive=!0,this.startEvent()}startEvent(){this.obj.container.on("mouseover",this._onHover,this),this.obj.container.on("mouseout",this._onMouseOut,this)}_onMouseScroll(t){const i=t;this.preventDefault&&i.preventDefault(),void 0!==i.deltaX?this.delta.set(i.deltaX,i.deltaY):this.delta.set(1==i.axis?60*i.detail:0,2==i.axis?60*i.detail:0),this.onMouseScroll&&this.onMouseScroll.call(this.obj,i,this.delta)}_onHover(){void 0===this.mouseScrllBind&&(this.id=I(),this.mouseScrllBind=this._onMouseScroll.bind(this),document.addEventListener("mousewheel",this.mouseScrllBind,{passive:!1}),document.addEventListener("DOMMouseScroll",this.mouseScrllBind,{passive:!1}))}_onMouseOut(){this.mouseScrllBind&&(document.removeEventListener("mousewheel",this.mouseScrllBind),document.removeEventListener("DOMMouseScroll",this.mouseScrllBind),this.mouseScrllBind=void 0)}stopEvent(){this.mouseScrllBind&&(document.removeEventListener("mousewheel",this.mouseScrllBind),document.removeEventListener("DOMMouseScroll",this.mouseScrllBind),this.mouseScrllBind=void 0),this.obj.container.removeListener("mouseover",this._onHover,this),this.obj.container.removeListener("mouseout",this._onMouseOut,this)}remove(){this.stopEvent()}}class Mt extends H{constructor(){super(),this._maskRect=new j,this.innerContainer=new PIXI.Container,this.innerBounds=new PIXI.Rectangle,this.dragScrolling=!0,this.softness=.5,this.radius=0,this.expandMask=0,this.animating=!1,this.scrolling=!1,this._boundCached=l()-1e3,this._lastWidth=0,this._lastHeight=0,this._scrollX=!1,this._scrollY=!1,this._isInitScrolling=!1,this._containerStart=new PIXI.Point,this._targetPosition=new PIXI.Point,this._lastPosition=new PIXI.Point,this._Position=new PIXI.Point,this._Speed=new PIXI.Point,this._stop=!1,this._maskRect.y=0,this.addChild(this._maskRect),this.container.addChild(this.innerContainer),this.container.name="ScrollingContainer.container",this.innerContainer.name="ScrollingContainer.innerContainer",this.mask=this._maskRect.graphics}get scrollX(){return this._scrollX}set scrollX(t){this._scrollX=t}get scrollY(){return this._scrollY}set scrollY(t){this._scrollY=t}update(){if(this._lastWidth!=this._width||this._lastHeight!=this._height){const t=this.expandMask;this._maskRect.drawRoundedRect(t,-t,this._width+t,this._height+t,this.radius,16777215),this._lastWidth=this._width,this._lastHeight=this._height}this.setScrollPosition()}setScrollPosition(t){t&&(this._Speed=t),this.animating||(this.animating=!0,this._lastPosition.copyFrom(this.innerContainer.position),this._targetPosition.copyFrom(this.innerContainer.position),this.updateScrollPosition(0))}addChild(t){return super.addChild(t),t!=this._maskRect&&this.innerContainer.addChild(t.container),this.getInnerBounds(!0),t}getInnerBounds(t){return(t||l()-this._boundCached>1e3)&&(this.innerContainer.getLocalBounds(this.innerBounds),this.innerBounds.height=this.innerBounds.y+this.innerContainer.height,this.innerBounds.width=this.innerBounds.x+this.innerContainer.width,this._boundCached=l()),this.innerBounds}initialize(){super.initialize(),this.initScrolling()}initScrolling(){this._isInitScrolling=!0,this.dragEvent&&(this.dragEvent.remove(),this.dragEvent=void 0),this.dragScrolling&&(this.dragEvent=new C(this),this.dragEvent.onDragStart=()=>{this.scrolling||(this._containerStart.copyFrom(this.innerContainer.position),this._Position.copyFrom(this.innerContainer.position),this.scrolling=!0,this.setScrollPosition(),It.addUpdateEvent(this.updateScrollPosition,this))},this.dragEvent.onDragMove=(t,i)=>{this.scrollX&&(this._targetPosition.x=this._containerStart.x+i.x),this.scrollY&&(this._targetPosition.y=this._containerStart.y+i.y)},this.dragEvent.onDragEnd=()=>{this.scrolling&&(this.scrolling=!1,It.removeUpdateEvent(this.updateScrollPosition,this))}),this.mouseScrollEvent&&(this.mouseScrollEvent.remove(),this.mouseScrollEvent=void 0);const t=new PIXI.Point;this.mouseScrollEvent=new Pt(this,!0),this.mouseScrollEvent.onMouseScroll=(i,e)=>{t.set(.2*-e.x,.2*-e.y),this.setScrollPosition(t)},this.updateScrollBars()}updateScrollBars(){this.emit(Mt.ChangeEvent,this)}forcePctPosition(t,i){const e=this.getInnerBounds();this.scrollX&&"x"==t&&(this.innerContainer.position[t]=-(e.width-this._width)*i),this.scrollY&&"y"==t&&(this.innerContainer[t]=-(e.height-this._height)*i),this._Position[t]=this._targetPosition[t]=this.innerContainer.position[t]}focusPosition(t){const i=this.getInnerBounds();let e;if(this.scrollX){const s=Math.max(0,Math.min(i.width,t.x));s+this.innerContainer.x>this._width?(e=s-this._width,this.innerContainer.x=-e):s+this.innerContainer.x<0&&(e=s+this.innerContainer.x,this.innerContainer.x-=e)}if(this.scrollY){const s=Math.max(0,Math.min(i.height,t.y));s+this.innerContainer.y>this._height?(e=s-this._height,this.innerContainer.y=-e):s+this.innerContainer.y<0&&(e=s+this.innerContainer.y,this.innerContainer.y-=e)}this._lastPosition.copyFrom(this.innerContainer.position),this._targetPosition.copyFrom(this.innerContainer.position),this._Position.copyFrom(this.innerContainer.position),this.updateScrollBars()}updateScrollPosition(t){this._stop=!0,this.scrollX&&this.updateDirection("x",t),this.scrollY&&this.updateDirection("y",t),stop&&(this.animating=!1)}updateDirection(t,i){i*=.001;const e=this.getInnerBounds();let s;if(s="y"==t?Math.round(Math.min(0,this._height-e.height)):Math.round(Math.min(0,this._width-e.width)),this.scrolling||0===Math.round(this._Speed[t])||(this._targetPosition[t]+=this._Speed[t],this._Speed[t]=w(this._Speed[t],0,(5+2.5/Math.max(this.softness,.01))*i),this._targetPosition[t]>0?this._targetPosition[t]=0:this._targetPosition[t]<s&&(this._targetPosition[t]=s)),!this.scrolling&&0===Math.round(this._Speed[t])&&(this.innerContainer[t]>0||this.innerContainer[t]<s)){const e=this._Position[t]>0?0:s;this._Position[t]=w(this._Position[t],e,(40-30*this.softness)*i),this._stop=!1}else(this.scrolling||0!==Math.round(this._Speed[t]))&&(this.scrolling&&(this._Speed[t]=this._Position[t]-this._lastPosition[t],this._lastPosition.copyFrom(this._Position)),this._targetPosition[t]>0?(this._Speed[t]=0,this._Position[t]=100*this.softness*(1-Math.exp(this._targetPosition[t]/-200))):this._targetPosition[t]<s?(this._Speed[t]=0,this._Position[t]=s-100*this.softness*(1-Math.exp((s-this._targetPosition[t])/-200))):this._Position[t]=this._targetPosition[t],this._stop=!1);this.innerContainer.position[t]=Math.round(this._Position[t]),this.updateScrollBars()}}Mt.ChangeEvent="change",Mt.ReSizeEvent="resize";class Ct extends H{constructor(){super(),this.desc=!1,this.tweenTime=0,this.tweenEase=it.Sinusoidal.In,this.items=[],this._sortTimeout=-1}addChild(t,i,e){return super.addChild(t),-1===this.items.indexOf(t)&&this.items.push(t),i&&(t.attach._sortListValue=i),e&&(t.attach._sortListThenByValue=e),t.attach._sortListRnd||(t.attach._sortListRnd=Math.random()),this.sort(),t}removeChild(t){super.removeChild(t);const i=this.items.indexOf(t);-1!=i&&this.items.splice(i,1),this.sort()}sort(t){clearTimeout(this._sortTimeout),t?this._sort():this._sortTimeout=window.setTimeout(()=>{this._sort()},0)}_sort(){const t=this,i=this.desc;let e=0,s=!0;this.items.sort((t,e)=>{const s=t.attach._sortListValue,n=e.attach._sortListValue,h=t.attach._sortListThenByValue,r=t.attach._sortListThenByValue;let o=s()<n()?i?1:-1:s()>n()?i?-1:1:0;return 0===o&&h&&r&&(o=h()<r()?i?1:-1:h()>r()?i?-1:1:0),0===o&&(o=t.attach._sortListRnd>e.attach._sortListRnd?1:t.attach._sortListRnd<e.attach._sortListRnd?-1:0),o});for(let t=0;t<this.items.length;t++){const i=this.items[t];s=!s,this.tweenTime>0?St.fromTo(i,{x:0,y:e},this.tweenTime).easing(this.tweenEase).start():(i.x=0,i.y=e),e+=i.height;const n=i;"function"==typeof n.altering&&n.altering(s)}this.tweenTime>0&&setTimeout(function(){t.updatesettings(!1,!0)},1e3*this.tweenTime)}}class Dt extends R{constructor(t,i){super(t,i),this._tilePosition=new PIXI.ObservablePoint(this.update,this),this._tileScale=new PIXI.ObservablePoint(this.update,this)}get source(){return this._source}set source(t){if(void 0!==t&&t!==this._source)if(this._source=t,t instanceof PIXI.Texture)this.getNewTilingSprite(t);else{const i=PIXI.Texture.from(t),e=this.getNewTilingSprite(i);e.texture.once("update",()=>{this.height||(this.height=e.height),this.width||(this.width=e.width),this.updatesettings(!0)},this)}}getNewTilingSprite(t){return void 0===this._sprite?(this._sprite=new PIXI.TilingSprite(t),this.container.addChild(this._sprite)):(this._sprite.texture.removeAllListeners(),this._sprite.texture=t),this._sprite}get tilePosition(){return this._tilePosition}set tilePosition(t){this._tilePosition.set(t.x,t.y),this.update()}get tileScale(){return this._tileScale}set tileScale(t){this._tileScale.set(t.x,t.y),this.update()}update(){this._sprite&&(isNaN(this.tint)||(this._sprite.tint=this.tint),isNaN(this.blendMode)||(this._sprite.blendMode=this.blendMode),this._sprite.tileScale.set(this._tileScale.x,this._tileScale.y),this._sprite.tilePosition.set(this._tilePosition.y,this._tilePosition.y),this._sprite.width=this._width,this._sprite.height=this._height)}}class Tt extends R{constructor(){super(),this._leftWidth=0,this._topHeight=0,this._rightWidth=0,this._bottomHeight=0,this.bw=0,this.vs=!0,this.hs=!0}get source(){return this._source}set source(t){void 0!==t&&t!==this._source&&(this._source=t,t instanceof PIXI.Texture?(this._texture=t,this.createSlice(),this.emit(Tt.SourceCompleteEvent,t.frame,this)):(this._texture&&this._texture.removeAllListeners(),this._texture=PIXI.Texture.from(t),this._texture.width>1&&this._texture.height>1?this._texture&&(this.createSlice(),this.emit(Tt.SourceCompleteEvent,this._texture.frame,this)):this._texture.once("update",()=>{this._texture&&(this.createSlice(),this.emit(Tt.SourceCompleteEvent,this._texture.frame,this))},this)))}set borderWidth(t){this.bw=t,this._topHeight=t,this._leftWidth=t,this._rightWidth=t,this._bottomHeight=t,this.drawSlicePlane()}get borderWidth(){return this.bw}get leftWidth(){return this._leftWidth}set leftWidth(t){this._leftWidth=t,this.drawSlicePlane()}get topHeight(){return this._topHeight}set topHeight(t){this._topHeight=t,this.drawSlicePlane()}get rightWidth(){return this._rightWidth}set rightWidth(t){this._rightWidth=t,this.drawSlicePlane()}get bottomHeight(){return this._bottomHeight}set bottomHeight(t){this._bottomHeight=t,this.drawSlicePlane()}set horizontalSlice(t){this.hs=t,this.setting.minWidth=2*this.bw,this.drawSlicePlane()}get horizontalSlice(){return this.hs}set verticalSlice(t){this.vs=t,this.setting.minHeight=2*this.bw,this.drawSlicePlane()}get verticalSlice(){return this.vs}createSlice(){null!=this._texture&&(this.container.removeChildren(),this._nineSlice=new PIXI.NineSlicePlane(this._texture),this.drawSlicePlane(),this.container.addChild(this._nineSlice),this.dalayDraw=!0)}drawSlicePlane(){if(void 0===this._nineSlice)return;const t=this._nineSlice;this.vs&&this.hs?(t.topHeight=this._topHeight,t.bottomHeight=this._bottomHeight,t.leftWidth=this._leftWidth,t.rightWidth=this._rightWidth):this.hs?(t.leftWidth=this._leftWidth,t.rightWidth=this._rightWidth):(t.topHeight=this._topHeight,t.bottomHeight=this._bottomHeight)}update(){const t=this._nineSlice;void 0!==t&&t&&(t.width=this._width,t.height=this._height,isNaN(this.tint)||(t.tint=this.tint),isNaN(this.blendMode)||(t.blendMode=this.blendMode))}}Tt.SourceCompleteEvent="sourceCompleteEvent";class kt extends R{constructor(t=0,i=0,e=0){super(),this._amt=0,this._decimals=0,this._vertical=!1,this._sourceTrack="",this._sourceTracklight="",this._sourceThumb="",this._thumbDrag=new C(this),this._trackDrag=new C(this),this._startValue=0,this._maxPosition=0,this._localMousePosition=new PIXI.Point,this._lastChange=0,this._lastChanging=0,this._minValue=0,this._maxValue=100,this._isUpdateLayout=!0,this._track=new Tt,this._track.borderWidth=t,this._thumb=new Tt,this._thumb.borderWidth=i,this._thumb.pivot=.5,this._thumb.container.buttonMode=!0,this._tracklight=new Tt,this._tracklight.borderWidth=e,this.addChild(this._track),this.addChild(this._tracklight),this.addChild(this._thumb),this._thumbDrag.onDragPress=this.onPress,this._thumbDrag.onDragStart=this.onDragStart,this._thumbDrag.onDragMove=this.onDragMove,this._thumbDrag.onDragEnd=this.onDragEnd,this._trackDrag.onDragPress=this.onPress,this._trackDrag.onDragStart=this.onDragStart,this._trackDrag.onDragMove=this.onDragMove,this._trackDrag.onDragEnd=this.onDragEnd}get sourceTrack(){return this._sourceTrack}set sourceTrack(t){this._sourceTrack=t,this._track.source=t}get sourceTracklight(){return this._sourceTracklight}set sourceTracklight(t){this._sourceTracklight=t,this._tracklight.source=t}get sourceThumb(){return this._sourceThumb}set sourceThumb(t){this._sourceThumb=t,this._thumb.visible=!1,this._thumb.off(Tt.SourceCompleteEvent,this.onThumbLoadComplete,this),this._thumb.once(Tt.SourceCompleteEvent,this.onThumbLoadComplete,this),this._thumb.source=t}onThumbLoadComplete(t,i){i.width=t.width,i.height=t.height,i.visible=!0,this.update()}get vertical(){return this._vertical}set vertical(t){this._vertical=t,this._isUpdateLayout=!0,this.update()}get minValue(){return this._minValue}set minValue(t){this._minValue=t,this.update()}get maxValue(){return this._maxValue}set maxValue(t){this._maxValue=t,this.update()}get value(){return S(w(this._minValue,this._maxValue,this._amt),this._decimals)}set value(t){this._amt=(Math.max(this._minValue,Math.min(this._maxValue,t))-this._minValue)/(this._maxValue-this._minValue),this.update(),this.triggerValueChange(),this.triggerValueChanging()}updateLayout(){this._isUpdateLayout&&(this._track.widthPet="100%",this._track.heightPct="100%",this.vertical?(this._thumb.horizontalAlign=2,this._thumb.verticalAlign=void 0,this._tracklight.horizontalAlign=2,this._tracklight.verticalAlign=void 0,this._tracklight.widthPet="100%"):(this._thumb.verticalAlign=2,this._thumb.horizontalAlign=void 0,this._tracklight.verticalAlign=2,this._tracklight.horizontalAlign=void 0,this._tracklight.heightPct="100%"),this._isUpdateLayout=!1)}update(t){let i,e;this.updateLayout(),this._thumb&&(this.vertical?(i=this._thumb._height||this._thumb.container.height,e=(this._height-i)*this._amt+.5*i,t?(St.to(this._thumb,{top:e},300).easing(it.Linear.None).start(),St.to(this._tracklight,{height:e},300).easing(it.Linear.None).start()):(this._thumb.top=e,this._tracklight.height=e)):(i=this._thumb._width||this._thumb.container.width,e=(this._width-i)*this._amt+.5*i,t?(St.to(this._thumb,{left:e},300).easing(it.Linear.None).start(),St.to(this._tracklight,{width:e},300).easing(it.Linear.None).start()):(this._thumb.left=e,this._tracklight.width=e)))}onPress(t,i,e){t.stopPropagation(),this._trackDrag==e&&this._trackDrag.id==t.data.identifier&&i&&this.updatePositionToMouse(t.data.global,!0)}onDragStart(t){this._thumb&&this._thumbDrag&&this._thumbDrag.id==t.data.identifier&&(this._startValue=this._amt,this._maxPosition=this.vertical?this._height-this._thumb._height:this._width-this._thumb._width)}onDragMove(t,i){this._thumbDrag&&this._thumbDrag.id==t.data.identifier?(this._amt=this._maxPosition?Math.max(0,Math.min(1,this._startValue+(this.vertical?i.y:i.x)/this._maxPosition)):0,this.triggerValueChanging(),this.update()):this._trackDrag&&this._trackDrag.id==t.data.identifier&&this.updatePositionToMouse(t.data.global,!1)}onDragEnd(t){this._thumbDrag&&this._thumbDrag.id==t.data.identifier?(this.triggerValueChange(),this.update()):this._trackDrag&&this._trackDrag.id==t.data.identifier&&this.triggerValueChange()}updatePositionToMouse(t,i){if(this._track&&this._track.container.toLocal(t,void 0,this._localMousePosition,!0),this._thumb){const t=this.vertical?this._localMousePosition.y-.5*this._thumb._height:this._localMousePosition.x-.5*this._thumb._width,e=this.vertical?this._height-this._thumb._height:this._width-this._thumb._width;this._amt=e?Math.max(0,Math.min(1,t/e)):0,this.update(i),this.triggerValueChanging()}}triggerValueChange(){this.emit("change",this.value,this._lastChange),this._lastChange!=this.value&&(this._lastChange=this.value)}triggerValueChanging(){this.emit("changing",this.value,this._lastChanging),this._lastChanging!=this.value&&(this._lastChanging=this.value)}}kt.ChangeEvent="change",kt.ChangingEvent="changing";class Et extends kt{constructor(t=0,i=0,e=0){super(t,i,e),this.autohide=!1,this._hidden=!1}toggleHidden(t){this.autohide&&(t&&!this._hidden?(St.to(this,{alpha:0},200).start(),this._hidden=!0):!t&&this._hidden&&(St.to(this,{alpha:1},200).start(),this._hidden=!1))}onThumbLoadComplete(t,i){super.onThumbLoadComplete(t,i),this.alignToContainer()}triggerValueChanging(){if(super.triggerValueChanging(),this.scrollingContainer){(this.scrollingContainer._height/this.scrollingContainer.innerContainer.height||.001)<1&&this.scrollingContainer.forcePctPosition(this.vertical?"y":"x",this._amt)}}get scrollingContainer(){return this._scrollingContainer}set scrollingContainer(t){this._scrollingContainer&&(this._scrollingContainer.off(Mt.ChangeEvent,this.alignToContainer,this),this._scrollingContainer.off(Mt.ReSizeEvent,this.alignToContainer,this)),null!=t?(this._scrollingContainer=t,this._scrollingContainer.on(Mt.ChangeEvent,this.alignToContainer,this),this._scrollingContainer.on(Mt.ReSizeEvent,this.alignToContainer,this)):this._scrollingContainer=void 0}alignToContainer(){if(this.scrollingContainer){let t,i;const e=this.vertical?"y":"x",s=this.vertical?"height":"width",n=this.vertical?"top":"left",h=this.scrollingContainer,r=this.scrollingContainer.innerContainer,o=r[s]?-r[e]/r[s]:0,a=r[s]?h["_"+s]/r[s]:1,u=r[s]-h["_"+s];this._amt=h["_"+s]&&u?-r[e]/u:0;const d=this,c=this._thumb;a>=1?(i=d["_"+s],c[n]=.5*i,this.toggleHidden(!0)):(i=d["_"+s]*a,this._amt>1?i-=(d["_"+s]-i)*(this._amt-1):this._amt<0&&(i-=(d["_"+s]-i)*-this._amt),t=this._amt<0?.5*i:this._amt>1?d["_"+s]-.5*i:o*d["_"+s]+.5*i,c[n]=t,this.toggleHidden(!1)),c[s]=i}}}class Lt extends R{constructor(t="",i){super(),this._source=t,this._text=new PIXI.Text(t,i),this.setDefaultSize(this._text.width,this._text.height),this.container.addChild(this._text)}get source(){return this._source}set source(t){t!==this._source&&(this._source=t,this._text.text=t,this.updatesettings(!0))}get label(){return this._source}set label(t){this.source=t}get style(){return this._text.style}set style(t){this._text.style=t}get textWidth(){return this._text.getBounds().width}get textHeight(){return this._text.getBounds().height}get textBounds(){return this._text.getBounds()}baseupdate(){const t=this._text.getBounds();this.setting.width=t.width,this.setting.widthPct=void 0,this.setting.height=t.height,this.setting.heightPct=void 0,super.baseupdate()}update(){isNaN(this.tint)||(this._text.tint=this.tint),isNaN(this.blendMode)||(this._text.blendMode=this.blendMode)}}class Rt extends PIXI.TextStyle{constructor(t){super(t)}}class At extends PIXI.utils.EventEmitter{constructor(t){super(),this._selection=[0,0],this._restrict_value="",console.log("HtmlInput"),this._domInput=this.addDom(t),this.visible=!1,document.body.appendChild(this._domInput)}get domInput(){return this._domInput}set visible(t){this._domInput.style.display=t?"block":"none"}get visible(){return"block"===this._domInput.style.display}get value(){return this._domInput.value}set value(t){this._domInput.value=t}set placeholder(t){this._domInput.placeholder=t}set disabled(t){this._domInput.disabled=t}get restrict(){return this._restrictRegex}set restrict(t){if(t instanceof RegExp){let i=t.toString().slice(1,-1);"^"!==i.charAt(0)&&(i="^"+i),"$"!==i.charAt(i.length-1)&&(i+="$"),t=new RegExp(i)}else t=new RegExp("^["+t+"]*$");this._restrictRegex=t}setStyle(t){for(let i in t)this._domInput.style[i]=t[i]}setStyleValue(t,i){this._domInput.style[t]=i}setAttribute(t,i){this._domInput.setAttribute(t,i)}select(){this._domInput.select()}getDOMInputBounds(){let t=this._domInput.style.transform,i=this._domInput.style.display;this._domInput.style.transform="",this._domInput.style.display="block";let e=this._domInput.getBoundingClientRect();return this._domInput.style.transform=t,this._domInput.style.display=i,e}updatePostion(t,i,e,s){this._domInput.style.top=t+"px",this._domInput.style.left=i+"px",this._domInput.style.transform=e,s&&(this._domInput.style.opacity=s.toString())}addDom(t){return t?(this._domInput=document.createElement("textarea"),this._domInput.style.resize="none"):(this._domInput=document.createElement("input"),this._domInput.type="text"),this.addEvent(),document.body.appendChild(this._domInput),this._domInput}removeDom(){this._domInput&&document.body.removeChild(this._domInput)}destroy(){this.removeDom(),this.removeEvent(),this.removeAllListeners()}addEvent(){this._onInputKeyDownBind||(this._onInputKeyDownBind=this._onInputKeyDown.bind(this),this._onInputInputBind=this._onInputInput.bind(this),this._onInputKeyUpBind=this._onInputKeyUp.bind(this),this._onFocusedBind=this._onFocused.bind(this),this._onBlurredBind=this._onBlurred.bind(this),this._domInput.addEventListener("keydown",this._onInputKeyDownBind,{passive:!1}),this._domInput.addEventListener("input",this._onInputInputBind,{passive:!1}),this._domInput.addEventListener("keyup",this._onInputKeyUpBind,{passive:!1}),this._domInput.addEventListener("focus",this._onFocusedBind,{passive:!1}),this._domInput.addEventListener("blur",this._onBlurredBind,{passive:!1}))}removeEvent(){this._onInputKeyDownBind&&(this._domInput.removeEventListener("keydown",this._onInputKeyDownBind),this._domInput.removeEventListener("input",this._onInputInputBind),this._domInput.removeEventListener("keyup",this._onInputKeyUpBind),this._domInput.removeEventListener("focus",this._onFocusedBind),this._domInput.removeEventListener("blur",this._onBlurredBind),this._onInputKeyDownBind=void 0,this._onInputInputBind=void 0,this._onInputKeyUpBind=void 0,this._onFocusedBind=void 0,this._onBlurredBind=void 0)}_applyRestriction(){this._restrictRegex&&(this._restrictRegex.test(this.value)?this._restrict_value=this.value:(this.value=this._restrict_value,this._domInput.setSelectionRange(this._selection[0],this._selection[1])))}_onInputKeyDown(t){this._selection=[this._domInput.selectionStart||0,this._domInput.selectionEnd||0],this.emit("keydown",this,t.keyCode)}_onInputInput(t){this._restrictRegex&&this._applyRestriction(),this.emit("input",this.value),t.preventDefault()}_onInputKeyUp(t){this.emit("keyup",this.value),t.preventDefault()}_onFocused(t){this.emit("focus"),t.preventDefault()}_onBlurred(t){this.emit("blur"),t.preventDefault()}focus(){document.body.removeChild(this._domInput),document.body.appendChild(this._domInput),this._domInput.focus()}blur(){this._domInput.blur()}}class Bt extends R{constructor(t){super(),this._disabled=!1,this._maxLength=NaN,this._previous={},this._domVisible=!0,this._placeholder="",this._placeholderColor=11119017,this._substituted=!1,this._resolution=1,this.state="DEFAULT",this._inputStyle=Object.assign({position:"absolute",background:"none",border:"none",outline:"none",transformOrigin:"0 0",padding:"5px 8px",color:"#000000",lineHeight:"1"},t),this.htmlInputShared=new At(this._inputStyle.multiline),this.htmlInputShared.setStyle(this._inputStyle),this.htmlInputShared.on("input",this._onInputInput,this),this.htmlInputShared.on("focus",this._onFocused,this),this.htmlInputShared.on("blur",this._onBlurred,this),this.substituteText=!0,this._setState("DEFAULT"),this.container.isEmitRender=!0,this.container.on("render",this.render,this)}update(){this._surrogate,this.setInputStyle("width",this.actualWidth.toString()+"px"),this.setInputStyle("height",this.actualHeight.toString()+"px")}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this._substituted?(this._updateSurrogate(),this.htmlInputShared.placeholder=""):this.htmlInputShared.placeholder=t}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this.htmlInputShared.disabled=t,this._setState(t?"DISABLED":"DEFAULT")}get maxLength(){return this._maxLength}set maxLength(t){this._maxLength=t,this.htmlInputShared.setAttribute("maxlength",t.toString())}get restrict(){return this.htmlInputShared.restrict}set restrict(t){this.htmlInputShared.restrict=t}get fontSize(){return null==this._inputStyle.fontSize?NaN:parseInt(this._inputStyle.fontSize)}set fontSize(t){const i=t+"px";this.setInputStyle("fontSize",i)}get fontFamily(){return this._inputStyle.fontFamily}set fontFamily(t){this.setInputStyle("fontFamily",t)}get fill(){return null==this._inputStyle.color?"":this._inputStyle.color}set fill(t){this.setInputStyle("color",t.toString())}get text(){return this.htmlInputShared.value}set text(t){this.htmlInputShared.value=t,this._substituted&&this._updateSurrogate()}get substituteText(){return this._substituted}set substituteText(t){this._substituted!=t&&(this._substituted=t,t?(this._createSurrogate(),this._domVisible=!1):(this._destroySurrogate(),this._domVisible=!0),this.placeholder=this._placeholder,this._update())}focus(){this.htmlInputShared.setStyle(this._inputStyle),this._substituted&&!this._domVisible&&(this.htmlInputShared.visible=!0),this.htmlInputShared.value=this.text,this.htmlInputShared.focus()}blur(){this.htmlInputShared.blur()}select(){this.focus(),this.htmlInputShared.select()}setInputStyle(t,i){this._inputStyle[t]=i,this.htmlInputShared.setStyleValue(t,i),!this._substituted||"fontFamily"!==t&&"fontSize"!==t||this._updateFontMetrics(),this._lastRenderer&&this._update()}_onInputInput(){this._substituted&&this._updateSubstitution()}_onFocused(){this._setState("FOCUSED")}_onBlurred(){this._setState("DEFAULT")}_setState(t){this.state=t,this._substituted&&this._updateSubstitution()}render(t){this._renderInternal(t)}_renderInternal(t){this._resolution=t.resolution,this._lastRenderer=t,this._canvasBounds=this._getCanvasBounds(),this._needsUpdate()&&this._update()}_update(){this._updateDOMInput(),this._substituted&&this._updateSurrogate()}_updateSubstitution(){"FOCUSED"===this.state?(this._domVisible=!0,this._surrogate&&(this._surrogate.visible=!1),this.text.length):(this._domVisible=!1,this._surrogate&&(this._surrogate.visible=!0)),this._updateDOMInput(),this._updateSurrogate()}_updateDOMInput(){if(!this._canvasBounds)return;const t=this._canvasBounds,i=this._pixiMatrixToCSS(this._getDOMRelativeWorldTransform());this.htmlInputShared.updatePostion(t.top,t.left,i,this.container.worldAlpha),this.htmlInputShared.visible=this.container.worldVisible&&this._domVisible,this._previous.canvasBounds=this._canvasBounds,this._previous.worldTransform=this.container.worldTransform.clone(),this._previous.worldAlpha=this.container.worldAlpha,this._previous.worldVisible=this.container.worldVisible}_needsUpdate(){return!this._comparePixiMatrices(this.container.worldTransform,this._previous.worldTransform)||!this._compareClientRects(this._canvasBounds,this._previous.canvasBounds)||this.container.worldAlpha!=this._previous.worldAlpha||this.container.worldVisible!=this._previous.worldVisible}_createSurrogate(){this._surrogateHitbox=new PIXI.Graphics,this._surrogateHitbox.name="_surrogateHitbox",this._surrogateHitbox.alpha=0,this._surrogateHitbox.interactive=!0,this._surrogateHitbox.cursor="text",this._surrogateHitbox.on("pointerdown",this._onSurrogateFocus,this),this.container.addChild(this._surrogateHitbox),this._surrogateMask=new PIXI.Graphics,this._surrogateMask.name="_surrogateMask",this.container.addChild(this._surrogateMask),this._surrogate=new PIXI.Text("",{}),this._surrogate.name="_surrogate",this.container.addChild(this._surrogate),this._surrogate.mask=this._surrogateMask,this._updateFontMetrics(),this._updateSurrogate()}_updateSurrogate(){const t=this._deriveSurrogatePadding(),i=this.htmlInputShared.getDOMInputBounds();this._surrogate&&(this._surrogate.style=this._deriveSurrogateStyle(),this._surrogate.style.padding=Math.max(...t),this._surrogate.y=this._inputStyle.multiline?t[0]:(i.height-this._surrogate.height)/2,this._surrogate.x=t[3],this._inputStyle.multiline&&(this._surrogate.style.wordWrap=!0,this._surrogate.style.wordWrapWidth=i.width,this._surrogate.style.breakWords=!0),this._surrogate.text=this._deriveSurrogateText()),this._updateSurrogateHitbox(i),this._updateSurrogateMask(i,t)}_updateSurrogateHitbox(t){this._surrogateHitbox&&(this._surrogateHitbox.clear(),this._surrogateHitbox.beginFill(0),this._surrogateHitbox.drawRect(0,0,t.width,t.height),this._surrogateHitbox.endFill(),this._surrogateHitbox.interactive=!this._disabled)}_updateSurrogateMask(t,i){this._surrogateMask&&(this._surrogateMask.clear(),this._surrogateMask.beginFill(0),this._surrogateMask.drawRect(i[3],0,t.width-i[3]-i[1],t.height),this._surrogateMask.endFill())}_destroySurrogate(){this._surrogate&&this._surrogateHitbox&&(this.container.removeChild(this._surrogate),this.container.removeChild(this._surrogateHitbox),this._surrogate.destroy(),this._surrogateHitbox&&this._surrogateHitbox.destroy(),this._surrogate=void 0,this._surrogateHitbox=void 0)}_onSurrogateFocus(){this.htmlInputShared.visible=!0,setTimeout(this._ensureFocus.bind(this),10)}_ensureFocus(){this._hasFocus()||this.focus()}_deriveSurrogateStyle(){const t=new PIXI.TextStyle;for(const i in this._inputStyle)switch(i){case"color":t.fill=this._inputStyle.color;break;case"fontFamily":case"fontSize":case"fontWeight":case"fontVariant":case"fontStyle":t[i]=this._inputStyle[i];break;case"letterSpacing":t.letterSpacing=parseFloat(this._inputStyle.letterSpacing)}return this._inputStyle.multiline&&(t.lineHeight=parseFloat(t.fontSize),t.wordWrap=!0,t.wordWrapWidth=this.htmlInputShared.getDOMInputBounds().width),0===this.htmlInputShared.value.length&&(t.fill=this._placeholderColor),t}_deriveSurrogatePadding(){const t=this._inputStyle.textIndent?parseFloat(this._inputStyle.textIndent):0;if(this._inputStyle.padding&&this._inputStyle.padding.length>0){const i=this._inputStyle.padding.trim().split(" ");if(1==i.length){const e=parseFloat(i[0]);return[e,e,e,e+t]}if(2==i.length){const e=parseFloat(i[0]),s=parseFloat(i[1]);return[e,s,e,s+t]}if(4==i.length){const e=i.map(t=>parseFloat(t));return e[3]+=t,e}}return[0,0,0,t]}_deriveSurrogateText(){return 0===this.htmlInputShared.value.length?this._placeholder:this.htmlInputShared.value}_updateFontMetrics(){const t=this._deriveSurrogateStyle().toFontString();this._fontMetrics=PIXI.TextMetrics.measureFont(t)}_hasFocus(){return document.activeElement===this.htmlInputShared.domInput}_getCanvasBounds(){if(this._lastRenderer){const t=this._lastRenderer.view.getBoundingClientRect(),i={top:t.top,left:t.left,width:t.width,height:t.height};return i.left+=window.scrollX,i.top+=window.scrollY,i}}_getDOMRelativeWorldTransform(){if(this._lastRenderer){const t=this._lastRenderer.view.getBoundingClientRect(),i=this.container.worldTransform.clone();return i.scale(this._resolution,this._resolution),i.scale(t.width/this._lastRenderer.width,t.height/this._lastRenderer.height),i}}_pixiMatrixToCSS(t){return"matrix("+[t.a,t.b,t.c,t.d,t.tx,t.ty].join(",")+")"}_comparePixiMatrices(t,i){return!(!t||!i)&&(t.a==i.a&&t.b==i.b&&t.c==i.c&&t.d==i.d&&t.tx==i.tx&&t.ty==i.ty)}_compareClientRects(t,i){return!(!t||!i)&&(t.left==i.left&&t.top==i.top&&t.width==i.width&&t.height==i.height)}}let jt;const Ht={},Wt={groups:{},values:{}};function Xt(t,i,e){const s=e||"default";let n=Ht[s];n||(n=Ht[s]=[]),-1===n.indexOf(t)&&(t.attach._tabIndex=void 0!==i?i:-1,t.attach._tabGroup=n,n.push(t),n.sort(function(t,i){return t.attach._tabIndex<i.attach._tabIndex?-1:t.attach._tabIndex>i.attach._tabIndex?1:0}))}function Ot(){const t=jt;t&&t.blur&&"function"==typeof t.blur&&t.blur()}function Ft(t){Ot(),jt=t}function zt(){jt=void 0}function Vt(){if(jt){const t=jt.attach._tabGroup;let i=t.indexOf(jt)+1;i>=t.length&&(i=0);const e=t[i];e.focus&&e.focus()}}function Ut(){if(jt){const t=jt.attach._tabGroup;let i=t.indexOf(jt)+1;i>=t.length&&(i=t.length-1);const e=t[i];e.focus&&e.focus()}}function Nt(){if(jt){const t=jt.attach._tabGroup;let i=t.indexOf(jt)-1;i<0&&(i=0);const e=t[i];e.focus&&e.focus()}}function Gt(t){const i=t.checkGroup;if(i){let e=Wt.groups[i];e||(e=Wt.groups[i]={}),e[t.uuid]=t,t.checked&&(Wt.values[i]=t.uuid)}}function Yt(t){if(t.checkGroup&&Wt.groups[t.checkGroup]){delete Wt.groups[t.checkGroup][t.uuid];let i=!1;for(const e in Wt.groups[t.checkGroup]){e&&(i=!0);break}i||delete Wt.groups[name],t.checked&&(Wt.values[name]=void 0)}}function Kt(t){if(t.checkGroup){const i=Wt.groups[t.checkGroup];for(const e in i){const s=i[e];s!==t&&(s.checked=!1)}Wt.values[t.checkGroup]=t.uuid}}function $t(t){const i=Wt.values[t];if(i){return Wt.groups[t][i].value}}function qt(t,i){const e=Wt.groups[t];if(e){const t=e[i];t&&(t.checked=!0)}}class Qt extends R{constructor(t,i,e,s){super(t,i),this._focused=!1,this._useTab=!0,this._usePrev=!0,this._useNext=!0,this.__down=!1,this.container.interactive=!0,Xt(this,e,s),this.container.on("pointerdown",this.onPointer,this),this.container.on("pointerup",this.onPointer,this),this.container.on("pointerupoutside",this.onPointer,this)}onPointer(t){switch(t.type){case"pointerdown":this.focus(),this.__down=!0;break;case"pointerup":case"pointerupoutside":this.__down=!1}}keyDownEvent(t){const i=t;9===i.which?this._useTab&&(Vt(),i.preventDefault()):38===i.which?this._usePrev&&(Nt(),i.preventDefault()):40===i.which&&this._useNext&&(Ut(),i.preventDefault())}documentMouseDown(){this.__down||this.blur()}_bindEvents(){this.stage&&(this.stage.on("pointerdown",this.documentMouseDown,this),this.keyDownEventBind=this.keyDownEvent.bind(this),document.addEventListener("keydown",this.keyDownEventBind))}_clearEvents(){this.stage&&(this.stage.off("pointerdown",this.documentMouseDown,this),document.removeEventListener("keydown",this.keyDownEventBind))}focus(){this._focused||(this._focused=!0,this._bindEvents(),Ft(this),this.emit("focusChanged",!0),this.emit("focus"))}blur(){this._focused&&(zt(),this._focused=!1,this._clearEvents(),this.emit("focusChanged",!1),this.emit("blur"))}}class Zt{constructor(t,i,e,s,n){this.id=0,this.isOpenEmitEvent=!1,this.offset=new PIXI.Point,this.movementX=0,this.movementY=0,this.ishover=!1,this.mouse=new PIXI.Point,this.bound=!1,this.right=!1,this.hover=!0,this.double=!1,this.time=0,this.eventnameMousedown="mousedown",this.eventnameMouseup="mouseup",this.eventnameMouseupoutside="mouseupoutside",this.obj=t,void 0!==i&&(this.isOpenEmitEvent=i),void 0!==e&&(this.right=e),void 0!==s&&(this.hover=s),void 0!==n&&(this.double=n),this.right&&(this.eventnameMousedown="rightdown",this.eventnameMouseup="rightup",this.eventnameMouseupoutside="rightupoutside"),t.container.interactive=!0,this.startEvent()}startEvent(){this.obj.container.on(this.eventnameMousedown,this._onMouseDown,this),this.right||this.obj.container.on("touchstart",this._onMouseDown,this),this.hover&&(this.obj.container.on("mouseover",this._onMouseOver,this),this.obj.container.on("mouseout",this._onMouseOut,this))}_onMouseDown(t){if(this.mouse.copyFrom(t.data.global),this.id=t.data.identifier,this.onPress&&this.onPress.call(this.obj,t,this.obj,!0),this.obj,this.emitTouchEvent("press",t,!0),this.bound||(this.obj.container.on(this.eventnameMouseup,this._onMouseUp,this),this.obj.container.on(this.eventnameMouseupoutside,this._onMouseUpOutside,this),this.right||(this.obj.container.on("touchend",this._onMouseUp,this),this.obj.container.on("touchendoutside",this._onMouseUpOutside,this)),this.bound=!0),this.double){const i=performance.now();i-this.time<210?(this.onClick&&this.onClick.call(this.obj,t,this.obj),this.emitTouchEvent("click",t)):this.time=i}t.data.originalEvent.preventDefault()}emitTouchEvent(t,i,...e){this.isOpenEmitEvent&&(i.type=t.toString(),this.obj.emit(i.type,i,this.obj,...e))}_mouseUpAll(t){t.data.identifier===this.id&&(this.offset.set(t.data.global.x-this.mouse.x,t.data.global.y-this.mouse.y),this.bound&&(this.obj.container.removeListener(this.eventnameMouseup,this._onMouseUp,this),this.obj.container.removeListener(this.eventnameMouseupoutside,this._onMouseUpOutside,this),this.right||(this.obj.container.removeListener("touchend",this._onMouseUp,this),this.obj.container.removeListener("touchendoutside",this._onMouseUpOutside,this)),this.bound=!1),this.onPress&&this.onPress.call(this.obj,t,this.obj,!1),this.emitTouchEvent("press",t,!1))}_onMouseUp(t){t.data.identifier===this.id&&(this._mouseUpAll(t),this.obj.dragThreshold&&(this.movementX=Math.abs(this.offset.x),this.movementY=Math.abs(this.offset.y),Math.max(this.movementX,this.movementY)>this.obj.dragThreshold)||this.double||(this.onClick&&this.onClick.call(this.obj,t,this.obj),this.emitTouchEvent("click",t,!1)))}_onMouseUpOutside(t){t.data.identifier===this.id&&this._mouseUpAll(t)}_onMouseOver(t){this.ishover||(this.ishover=!0,this.obj.container.on("mousemove",this._onMouseMove,this),this.obj.container.on("touchmove",this._onMouseMove,this),this.onHover&&this.onHover.call(this.obj,t,this.obj,!0),this.emitTouchEvent("hover",t,!0))}_onMouseOut(t){this.ishover&&(this.ishover=!1,this.obj.container.removeListener("mousemove",this._onMouseMove,this),this.obj.container.removeListener("touchmove",this._onMouseMove,this),this.onHover&&this.onHover.call(this.obj,t,this.obj,!1),this.emitTouchEvent("hover",t,!1))}_onMouseMove(t){this.onMove&&this.onMove.call(this.obj,t,this.obj),this.emitTouchEvent("move",t)}stopEvent(){this.bound&&(this.obj.container.removeListener(this.eventnameMouseup,this._onMouseUp,this),this.obj.container.removeListener(this.eventnameMouseupoutside,this._onMouseUpOutside,this),this.right||(this.obj.container.removeListener("touchend",this._onMouseUp,this),this.obj.container.removeListener("touchendoutside",this._onMouseUpOutside,this)),this.bound=!1),this.obj.container.removeListener(this.eventnameMousedown,this._onMouseDown,this),this.right||this.obj.container.removeListener("touchstart",this._onMouseDown,this),this.hover&&(this.obj.container.removeListener("mouseover",this._onMouseOver,this),this.obj.container.removeListener("mouseout",this._onMouseOut,this),this.obj.container.removeListener("mousemove",this._onMouseMove,this),this.obj.container.removeListener("touchmove",this._onMouseMove,this))}remove(){this.stopEvent(),this.onPress=void 0,this.onHover=void 0,this.onClick=void 0,this.onMove=void 0,this.obj.container.interactive=!1}}class Jt extends Qt{constructor(t,i,e,s){super(t,i,e,s),this._isHover=!1,this._background=new Tt,this._clickEvent=new Zt(this,!0),this._currentState="Up",this._background.widthPet="100%",this._background.heightPct="100%",this._background.pivot=.5,this._background.verticalAlign=2,this._background.horizontalAlign=2,this._background.borderWidth=10,this.addChild(this._background),this.on("move",this.onMove,this),this.on("hover",this.onHover,this),this.on("press",this.onPress,this),this.on("click",this.onClick,this)}onHover(t,i,e){this._isHover=e,this.currentState="Up"}onPress(t,i,e){this.currentState=e?"Down":"Up"}onClick(){}onMove(){this.currentState="Move"}get currentState(){return this._currentState}set currentState(t){t!==this._currentState&&(this._currentState=t,this.update())}get sourceUp(){return this._sourceUp}set sourceUp(t){t!=this._sourceUp&&(this._sourceUp=t,this.update())}get sourceMove(){return this._sourceMove}set sourceMove(t){t!=this._sourceMove&&(this._sourceMove=t,this.update())}get sourceDown(){return this._sourceDown}set sourceDown(t){t!=this._sourceDown&&(this._sourceDown=t,this.update())}focus(){this._focused||super.focus()}blur(){this._focused&&super.blur()}updateHitArea(){const t=this.container.getLocalBounds();this.container.hitArea=new PIXI.Rectangle(t.x<0?t.x:0,t.y<0?t.y:0,Math.max(t.x+t.width+(t.x<0?-t.x:0),this.width),Math.max(t.y+t.height+(t.y<0?-t.y:0),this.height))}update(){this._background.width=this.width,this._background.height=this.height,this._background.source=this["_source"+this.currentState],this.updateHitArea()}}class ti extends Jt{constructor(t={width:100,height:20,tabIndex:0,tabGroup:0}){super(t.width,t.height,t.tabIndex,t.tabGroup.toString()),this._text=new Lt,this.container.buttonMode=!0,this._text.verticalAlign=2,this._text.horizontalAlign=2,this._text.style.fontSize=18,this._text.style.fill=16777215,this._text.top=8,this._text.left=8,this._text.right=8,this._text.bootom=8,this.addChild(this._text)}initialize(){super.initialize(),this.container.interactiveChildren=!1}get label(){return this._text.label}set label(t){this._text.label=t}get labelColor(){return this._text.style.fill.toString()}set labelColor(t){this._text.style.fill=t}get labelSize(){return this._text.style.fontSize}set labelSize(t){this._text.style.fontSize=t}get labelHorizontalAlign(){return this._text.horizontalAlign||2}set labelHorizontalAlign(t){this._text.horizontalAlign=t}get labelStyle(){return this._text.style}set labelStyle(t){this._text.style=t}get text(){return this._text}}class ii extends Jt{constructor(t={width:20,height:20,tabIndex:0,tabGroup:0}){super(t.width,t.height,t.tabIndex,t.tabGroup.toString()),this._checked=!1,this.container.buttonMode=!0,this._checkmark=new B,this._checkmark.verticalAlign=2,this._checkmark.horizontalAlign=2,this._checkmark.alpha=0,this.addChild(this._checkmark)}get sourceMark(){return this._sourceMark}set sourceMark(t){this._sourceMark=t,this.update()}get value(){return this._value}set value(t){t!==this._value&&(this._value=t)}get selectedValue(){if(this.checkGroup)return $t(this.checkGroup)}get checkGroup(){return this._checkGroup}set checkGroup(t){void 0===t&&Yt(this),this._checkGroup!=t&&(this._checkGroup=t,Gt(this))}get checked(){return this._checked}set checked(t){t!==this._checked&&(this.checkGroup&&Kt(this),this._checked=t,this.update())}onClick(){super.onClick(),this.checkGroup&&this.checked||(this.checked=!this.checked)}update(){super.update(),this._checkmark.alpha=this.checked?1:0,this._checkmark.source=this._sourceMark}}class ei extends PIXI.interaction.InteractionEvent{constructor(){super()}}var si=e(0);i.default=u;window.vfui=u}]);